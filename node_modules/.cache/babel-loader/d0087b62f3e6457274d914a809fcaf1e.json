{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js!/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/videos.js","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/videos.js","mtime":1642801857591},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js","mtime":1640582288508}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgeyB2dWV4ZmlyZU11dGF0aW9ucywgZmlyZXN0b3JlQWN0aW9uIH0gZnJvbSAidnVleGZpcmUiOwppbXBvcnQgeyBnZXRGaWVsZCwgdXBkYXRlRmllbGQgfSBmcm9tICJ2dWV4LW1hcC1maWVsZHMiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uLy4uL2ZpcmViYXNlL2RiIjsKaW1wb3J0IHsgZ2V0SWRGcm9tVVJMIH0gZnJvbSAidnVlLXlvdXR1YmUtZW1iZWQiOwp2YXIgcmVzb3VyY2VzUmVmID0gZGIuY29sbGVjdGlvbigicmVzb3VyY2VzIik7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICB2aWRlb3M6IFtdLAogICAgdmlkZW9JRDogbnVsbCwKICAgIHZpZGVvVVJMOiBudWxsLAogICAgY29udGVudElEOiBudWxsLAogICAgY3VycmVudFZpZGVvUmVzb3VyY2U6IHsKICAgICAgcGFyZW50SUQ6ICIiLAogICAgICBwYXJlbnRUeXBlOiAiIiwKICAgICAgcmVzb3VyY2VUeXBlOiAiIiwKICAgICAgdXJsOiAiIiwKICAgICAgdGl0bGU6ICIiLAogICAgICB0b3BpY0lEOiBbXSwKICAgICAgc2VhcmNoQXJyYXk6IFtdCiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRGaWVsZDogZ2V0RmllbGQsCiAgICBjdXJyZW50VmlkZW9zOiBmdW5jdGlvbiBjdXJyZW50VmlkZW9zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS52aWRlb3M7CiAgICB9LAogICAgY3VycmVudFZpZGVvVVJMOiBmdW5jdGlvbiBjdXJyZW50VmlkZW9VUkwoc3RhdGUpIHsKICAgICAgcmV0dXJuIGdldElkRnJvbVVSTChzdGF0ZS52aWRlb1VSTCk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBiaW5kVG9waWNzOiBmaXJlc3RvcmVBY3Rpb24oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGJpbmRGaXJlc3RvcmVSZWYgPSBfcmVmLmJpbmRGaXJlc3RvcmVSZWY7CiAgICAgIC8vIHJldHVybiB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSBgYmluZEZpcmVzdG9yZVJlZmAKICAgICAgcmV0dXJuIGJpbmRGaXJlc3RvcmVSZWYoInJlc291cmNlcyIsIGRiLmNvbGxlY3Rpb24oInJlc291cmNlcyIpKTsKICAgIH0pLAogICAgLy8qIGZldGNoZXMgYWxsIHZpZGVvcyB1bmRlciB0b3BpY3MKICAgIGZldGNoVmlkZW9zOiBmdW5jdGlvbiBmZXRjaFZpZGVvcyhfcmVmMiwgcGFyZW50VHlwZSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290U3RhdGUsIHZpZGVvTGlzdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0LCByb290U3RhdGUgPSBfcmVmMi5yb290U3RhdGU7CiAgICAgICAgICAgICAgICB2aWRlb0xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXNSZWYud2hlcmUoInRvcGljSUQiLCAiYXJyYXktY29udGFpbnMtYW55IiwgW3Jvb3RTdGF0ZS50b3BpY3MudG9waWNJRF0pLndoZXJlKCJwYXJlbnRUeXBlIiwgIj09IiwgcGFyZW50VHlwZSkud2hlcmUoInJlc291cmNlVHlwZSIsICI9PSIsICJ2aWRlbyIpLmdldCgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShxdWVyeVNuYXBzaG90KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aWRlb0l0ZW0gPSBkb2MuZGF0YSgpOyAvLyogYXBwZW5kcyB1bmlxdWUgdmlkZW8gaWQgdG8gZWFjaCB3b3JrCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyogYXBwZW5kcyB1bmlxdWUgdmlkZW8gaWQgdG8gZWFjaCB3b3JrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvTGlzdC5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmlkZW9JdGVtKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZG9jLmlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJTRVRfVklERU9TIiwgdmlkZW9MaXN0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBmZXRjaGVzIGFsbCB2aWRlbyByZXNvdXJjZXMgdW5kZXIgdG9waWMgY29udGVudHMKICAgIGZldGNoQ29udGVudFZpZGVvczogZnVuY3Rpb24gZmV0Y2hDb250ZW50VmlkZW9zKF9yZWY0LCBwYXJlbnRUeXBlKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCByb290U3RhdGUsIHJlYWRQYXJlbnRJRCwgcGFyZW50SUQsIHZpZGVvczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZSwgY29tbWl0ID0gX3JlZjQuY29tbWl0LCByb290U3RhdGUgPSBfcmVmNC5yb290U3RhdGU7CgogICAgICAgICAgICAgICAgcmVhZFBhcmVudElEID0gZnVuY3Rpb24gcmVhZFBhcmVudElEKHBhcmVudFR5cGUpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFR5cGUgPT0gImV2ZW50IikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIxKSBldmVudElEICh2aWRlbyk6Iiwgcm9vdFN0YXRlLmV2ZW50cy5ldmVudElkKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdFN0YXRlLmV2ZW50cy5ldmVudElkOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVudFR5cGUgPT0gInBlb3BsZSIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiMSkgcGVyc29uSWQgKHBlcnNvbik6Iiwgcm9vdFN0YXRlLnBlb3BsZS5wZXJzb25JZCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3RTdGF0ZS5wZW9wbGUucGVyc29uSWQ7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRQYXJlbnRJRChwYXJlbnRUeXBlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcGFyZW50SUQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHZpZGVvcyA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlc1JlZi53aGVyZSgicGFyZW50SUQiLCAiPT0iLCBwYXJlbnRJRCkud2hlcmUoInBhcmVudFR5cGUiLCAiPT0iLCBwYXJlbnRUeXBlKS53aGVyZSgicmVzb3VyY2VUeXBlIiwgIj09IiwgInZpZGVvIikuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnlTbmFwc2hvdCkgewogICAgICAgICAgICAgICAgICBxdWVyeVNuYXBzaG90LmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiMikgZmV0Y2hpbmcgdmlkZW9zOiIsIHBhcmVudElEKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdmlkZW9JdGVtID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgICB2aWRlb3MucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZpZGVvSXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICBpZDogZG9jLmlkCiAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1ZJREVPUyIsIHZpZGVvcyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiMykgZmV0Y2hlZCB2aWRlb3M6Iiwgc3RhdGUuYXJ0aWNsZXMpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGNsZWFycyB2aWRlbyByZXNvdXJjZSBmb3JtCiAgICBjbGVhclZpZGVvRm9ybTogZnVuY3Rpb24gY2xlYXJWaWRlb0Zvcm0oX3JlZjUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgY29tbWl0KCJTRVRfQ1VSUkVOVF9WSURFT19SRVNPVVJDRSIsIHsKICAgICAgICBwYXJlbnRJRDogIiIsCiAgICAgICAgcGFyZW50VHlwZTogIiIsCiAgICAgICAgcmVzb3VyY2VUeXBlOiAidmlkZW8iLAogICAgICAgIHVybDogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHRvcGljSUQ6IFtdLAogICAgICAgIHNlYXJjaEFycmF5OiBbXQogICAgICB9KTsKICAgICAgY29tbWl0KCJTRVRfWU9VVFVCRV9JRCIsICIiKTsgLy8gY29uc29sZS5sb2coc3RhdGUuY3VycmVudFZpZGVvUmVzb3VyY2UpOwogICAgfSwKICAgIC8vKiBoYW5kbGVzIHN1Ym1pdCB2aWRlbyByZXNvdXJjZQogICAgc3VibWl0TmV3VmlkZW86IGZ1bmN0aW9uIHN1Ym1pdE5ld1ZpZGVvKF9yZWY2LCBwYXJlbnRUeXBlKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgcm9vdFN0YXRlLCB1cmwsIHJlYWRQYXJlbnRJRCwgcGFyZW50SUQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjYuc3RhdGUsIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNi5kaXNwYXRjaCwgcm9vdFN0YXRlID0gX3JlZjYucm9vdFN0YXRlOwogICAgICAgICAgICAgICAgdXJsID0gZ2V0SWRGcm9tVVJMKHN0YXRlLnZpZGVvVVJMKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX1lPVVRVQkVfVVJMIiwgdXJsKTsgLy8qIHNldHMgcGFyZW50SUQKCiAgICAgICAgICAgICAgICByZWFkUGFyZW50SUQgPSBmdW5jdGlvbiByZWFkUGFyZW50SUQocGFyZW50VHlwZSkgewogICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHlwZSA9PSAiZXZlbnQiKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3RTdGF0ZS5ldmVudHMuZXZlbnRJZDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbnRUeXBlID09ICJwZW9wbGUiKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3RTdGF0ZS5wZW9wbGUucGVyc29uSWQ7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50VHlwZSA9PSAidG9waWMiKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3RTdGF0ZS50b3BpY3MudG9waWNJRDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFBhcmVudElEKHBhcmVudFR5cGUpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBwYXJlbnRJRCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfVklERU9fUFJPUFMiLCB7CiAgICAgICAgICAgICAgICAgIHBhcmVudElEOiBwYXJlbnRJRCwKICAgICAgICAgICAgICAgICAgcGFyZW50VHlwZTogcGFyZW50VHlwZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9WSURFT19UT1BJQ19JRCIsIHJvb3RTdGF0ZS50b3BpY3MudG9waWNJRCk7CiAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9TRUFSQ0hfQVJSQVkiLCBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZS50aXRsZSk7CgogICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRJRCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiNCkgdmlkZW8gaGFzIHBhcmVudElEIik7IC8vKiBhZGRzIG5ldyB2aWRlbyB0byBmaXJlc3RvcmUKCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlc1JlZi5hZGQoc3RhdGUuY3VycmVudFZpZGVvUmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiNCkgU3VibWl0dGVkIFZpZGVvIFJlc291cmNlIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI0KSB2aWRlbyBkb2VzIG5vdCBoYXZlIHBhcmVudElEIik7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBjb21taXQoIlVQREFURV9WSURFT1MiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI0KSBuZXcgdmlkZW86Iiwgc3RhdGUuY3VycmVudEFydGljbGUpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIjUpIHZpZGVvcyIsIHN0YXRlLmFydGljbGVzKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJjbGVhclZpZGVvRm9ybSIpOyAvLyBhbGVydCgiU3VibWl0dGVkIFZpZGVvIFJlc291cmNlIik7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRWaWRlb1RvREI6IGZ1bmN0aW9uIGFkZFZpZGVvVG9EQihfcmVmNykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGJhdGNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY3LnN0YXRlOwoKICAgICAgICAgICAgICAgIGlmIChzdGF0ZS52aWRlb3MubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgICAgICAgICAgICAgICAgIHN0YXRlLnZpZGVvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZG9jUmVmID0gcmVzb3VyY2VzUmVmLmRvYygpOyAvL2F1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgdW5pcXVlIGlkCgogICAgICAgICAgICAgICAgICAgIGJhdGNoLnNldChkb2NSZWYsIGRvYyk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBiYXRjaC5jb21taXQoKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIjkpIFN1Ym1pdHRlZCBWaWRlb3M6Iiwgc3RhdGUudmlkZW9zKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIHNldHMgY3VycmVudCB2aWRlbyBmb3IgZWRpdAogICAgZWRpdFZpZGVvOiBmdW5jdGlvbiBlZGl0VmlkZW8oX3JlZjgsIHZpZGVvKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY4LnN0YXRlOwogICAgICBjb21taXQoIlNFVF9WSURFT19JRCIsIHZpZGVvLmlkKTsgLy8qIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSB2aWRlbyBmb3IgZWRpdAoKICAgICAgdmFyIGluZGV4ID0gc3RhdGUudmlkZW9zLmZpbmRJbmRleChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IHZpZGVvLmlkOwogICAgICB9KTsgLy8qIGlkZW50aWZpZXMgdGhlIGN1cnJlbnQgdmlkZW8gZm9yIGVkaXQgdXNpbmcgaW5kZXgKCiAgICAgIHZhciBjdXJyZW50VmlkZW8gPSBzdGF0ZS52aWRlb3NbaW5kZXhdOwogICAgICBjb21taXQoIlNFVF9DVVJSRU5UX1ZJREVPX1JFU09VUkNFIiwgY3VycmVudFZpZGVvKTsKICAgICAgY29tbWl0KCJTRVRfWU9VVFVCRV9JRCIsIGN1cnJlbnRWaWRlby51cmwpOwogICAgfSwKICAgIC8vKiBzdWJtaXQgZWRpdCB2aWRlbwogICAgc3VibWl0RWRpdFZpZGVvOiBmdW5jdGlvbiBzdWJtaXRFZGl0VmlkZW8oX3JlZjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgY29tbWl0LCB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjkuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjkuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWY5LmNvbW1pdDsKICAgICAgICAgICAgICAgIHVybCA9IGdldElkRnJvbVVSTChzdGF0ZS52aWRlb1VSTCk7CiAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9ZT1VUVUJFX1VSTCIsIHVybCk7CiAgICAgICAgICAgICAgICBjb21taXQoIlVQREFURV9TRUFSQ0hfQVJSQVkiLCBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZS50aXRsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzUmVmLmRvYyhzdGF0ZS52aWRlb0lEKS5zZXQoc3RhdGUuY3VycmVudFZpZGVvUmVzb3VyY2UsIHsKICAgICAgICAgICAgICAgICAgbWVyZ2U6IHRydWUKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU3VibWl0IEVkaXQgZm9yICIgKyBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZS50aXRsZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgZGlzcGF0Y2goImNsZWFyVmlkZW9Gb3JtIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBkZWxldGUgdmlkZW8KICAgIGRlbGV0ZVZpZGVvOiBmdW5jdGlvbiBkZWxldGVWaWRlbyhfcmVmMTAsIHZpZGVvKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMTAuc3RhdGUsIGNvbW1pdCA9IF9yZWYxMC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjEwLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1ZJREVPX0lEIiwgdmlkZW8uaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzUmVmLmRvYyhzdGF0ZS52aWRlb0lEKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3NmdWxseSBkZWxldGVkIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfVklERU9fSUQiLCBudWxsKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJjbGVhclZpZGVvRm9ybSIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2dWV4ZmlyZU11dGF0aW9ucyksIHt9LCB7CiAgICB1cGRhdGVGaWVsZDogdXBkYXRlRmllbGQsCiAgICBTRVRfVklERU9TOiBmdW5jdGlvbiBTRVRfVklERU9TKHN0YXRlLCB2aWRlb3MpIHsKICAgICAgcmV0dXJuIHN0YXRlLnZpZGVvcyA9IHZpZGVvczsKICAgIH0sCiAgICBTRVRfVklERU9fSUQ6IGZ1bmN0aW9uIFNFVF9WSURFT19JRChzdGF0ZSwgaWQpIHsKICAgICAgcmV0dXJuIHN0YXRlLnZpZGVvSUQgPSBpZDsKICAgIH0sCiAgICBTRVRfWU9VVFVCRV9VUkw6IGZ1bmN0aW9uIFNFVF9ZT1VUVUJFX1VSTChzdGF0ZSwgdXJsKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZS51cmwgPSB1cmw7CiAgICB9LAogICAgU0VUX1lPVVRVQkVfSUQ6IGZ1bmN0aW9uIFNFVF9ZT1VUVUJFX0lEKHN0YXRlLCBpZCkgewogICAgICByZXR1cm4gc3RhdGUudmlkZW9VUkwgPSBpZDsKICAgIH0sCiAgICBTRVRfVklERU9fUFJPUFM6IGZ1bmN0aW9uIFNFVF9WSURFT19QUk9QUyhzdGF0ZSwgcHJvcHMpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRWaWRlb1Jlc291cmNlID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZSksIHByb3BzKTsKICAgIH0sCiAgICBTRVRfVklERU9fVE9QSUNfSUQ6IGZ1bmN0aW9uIFNFVF9WSURFT19UT1BJQ19JRChzdGF0ZSwgaWQpIHsKICAgICAgc3RhdGUuY3VycmVudFZpZGVvUmVzb3VyY2UudG9waWNJRC5wdXNoKGlkKTsKICAgIH0sCiAgICBTRVRfU0VBUkNIX0FSUkFZOiBmdW5jdGlvbiBTRVRfU0VBUkNIX0FSUkFZKHN0YXRlLCBhcnJheSkgewogICAgICB2YXIgX3N0YXRlJGN1cnJlbnRWaWRlb1JlOwoKICAgICAgLy8qIHNwbGl0cyB0aGUgd29yZHMgaW50byBzdHJpbmdzIGFuZCBzdG9yZXMgaW4gbmV3QXJyYXkKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXkuc3BsaXQoIiAiKTsKCiAgICAgIChfc3RhdGUkY3VycmVudFZpZGVvUmUgPSBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZS5zZWFyY2hBcnJheSkucHVzaC5hcHBseShfc3RhdGUkY3VycmVudFZpZGVvUmUsIF90b0NvbnN1bWFibGVBcnJheShuZXdBcnJheSkpOwogICAgfSwKICAgIFNFVF9DVVJSRU5UX1ZJREVPX1JFU09VUkNFOiBmdW5jdGlvbiBTRVRfQ1VSUkVOVF9WSURFT19SRVNPVVJDRShzdGF0ZSwgZmllbGRzKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZSA9IGZpZWxkczsKICAgIH0sCiAgICBVUERBVEVfU0VBUkNIX0FSUkFZOiBmdW5jdGlvbiBVUERBVEVfU0VBUkNIX0FSUkFZKHN0YXRlLCBhcnJheSkgewogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheS5zcGxpdCgiICIpOwogICAgICBzdGF0ZS5jdXJyZW50VmlkZW9SZXNvdXJjZS5zZWFyY2hBcnJheSA9IG5ld0FycmF5OwogICAgfSwKICAgIFVQREFURV9WSURFT1M6IGZ1bmN0aW9uIFVQREFURV9WSURFT1Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnZpZGVvcy5wdXNoKHN0YXRlLmN1cnJlbnRWaWRlb1Jlc291cmNlKTsKICAgIH0sCiAgICBVUERBVEVfVklERU9TX0lEOiBmdW5jdGlvbiBVUERBVEVfVklERU9TX0lEKHN0YXRlLCBpZCkgewogICAgICBzdGF0ZS52aWRlb3MuZm9yRWFjaChmdW5jdGlvbiAodmlkZW8pIHsKICAgICAgICB2aWRlby5wYXJlbnRJRCA9IGlkOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coIjgpIHVwZGF0ZSB2aWRlb3Mgd2l0aCBldmVudGlkczoiLCBzdGF0ZS52aWRlb3MpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/videos.js"],"names":["vuexfireMutations","firestoreAction","getField","updateField","db","getIdFromURL","resourcesRef","collection","namespaced","state","videos","videoID","videoURL","contentID","currentVideoResource","parentID","parentType","resourceType","url","title","topicID","searchArray","getters","currentVideos","currentVideoURL","actions","bindTopics","bindFirestoreRef","fetchVideos","commit","rootState","videoList","where","topics","get","then","querySnapshot","docs","map","doc","videoItem","data","push","id","fetchContentVideos","readParentID","console","log","events","eventId","people","personId","articles","clearVideoForm","submitNewVideo","dispatch","add","currentArticle","addVideoToDB","length","batch","forEach","docRef","set","editVideo","video","index","findIndex","e","currentVideo","submitEditVideo","merge","deleteVideo","delete","mutations","SET_VIDEOS","SET_VIDEO_ID","SET_YOUTUBE_URL","SET_YOUTUBE_ID","SET_VIDEO_PROPS","props","SET_VIDEO_TOPIC_ID","SET_SEARCH_ARRAY","array","newArray","split","SET_CURRENT_VIDEO_RESOURCE","fields","UPDATE_SEARCH_ARRAY","UPDATE_VIDEOS","UPDATE_VIDEOS_ID"],"mappings":"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","sourcesContent":["import { vuexfireMutations, firestoreAction } from \"vuexfire\";\nimport { getField, updateField } from \"vuex-map-fields\";\nimport { db } from \"../../firebase/db\";\nimport { getIdFromURL } from \"vue-youtube-embed\";\n\nconst resourcesRef = db.collection(\"resources\");\n\nexport default {\n  namespaced: true,\n  state: {\n    videos: [],\n    videoID: null,\n    videoURL: null,\n    contentID: null,\n    currentVideoResource: {\n      parentID: \"\",\n      parentType: \"\",\n      resourceType: \"\",\n      url: \"\",\n      title: \"\",\n      topicID: [],\n      searchArray: [],\n    },\n  },\n  getters: {\n    getField,\n    currentVideos: (state) => state.videos,\n    currentVideoURL: (state) => getIdFromURL(state.videoURL),\n  },\n  actions: {\n    bindTopics: firestoreAction(({ bindFirestoreRef }) => {\n      // return the promise returned by `bindFirestoreRef`\n      return bindFirestoreRef(\"resources\", db.collection(\"resources\"));\n    }),\n\n    //* fetches all videos under topics\n    async fetchVideos({ commit, rootState }, parentType) {\n      let videoList = [];\n\n      await resourcesRef\n        .where(\"topicID\", \"array-contains-any\", [rootState.topics.topicID])\n        .where(\"parentType\", \"==\", parentType)\n        .where(\"resourceType\", \"==\", \"video\")\n        .get()\n        .then(async (querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            let videoItem = doc.data();\n\n            //* appends unique video id to each work\n            videoList.push({\n              ...videoItem,\n              id: doc.id,\n            });\n          });\n          await commit(\"SET_VIDEOS\", videoList);\n        });\n      // console.log(\"fetchVideos\", state.videos);\n    },\n\n    //* fetches all video resources under topic contents\n    async fetchContentVideos({ state, commit, rootState }, parentType) {\n      const readParentID = (parentType) => {\n        if (parentType == \"event\") {\n          console.log(\"1) eventID (video):\", rootState.events.eventId);\n          return rootState.events.eventId;\n        } else if (parentType == \"people\") {\n          console.log(\"1) personId (person):\", rootState.people.personId);\n          return rootState.people.personId;\n        }\n      };\n      let parentID = await readParentID(parentType);\n      let videos = [];\n      await resourcesRef\n        .where(\"parentID\", \"==\", parentID)\n        .where(\"parentType\", \"==\", parentType)\n        .where(\"resourceType\", \"==\", \"video\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            console.log(\"2) fetching videos:\", parentID);\n            let videoItem = doc.data();\n            videos.push({\n              ...videoItem,\n              id: doc.id,\n            });\n          });\n        });\n      await commit(\"SET_VIDEOS\", videos);\n      console.log(\"3) fetched videos:\", state.articles);\n    },\n\n    //* clears video resource form\n    clearVideoForm({ commit }) {\n      commit(\"SET_CURRENT_VIDEO_RESOURCE\", {\n        parentID: \"\",\n        parentType: \"\",\n        resourceType: \"video\",\n        url: \"\",\n        title: \"\",\n        topicID: [],\n        searchArray: [],\n      });\n      commit(\"SET_YOUTUBE_ID\", \"\");\n      // console.log(state.currentVideoResource);\n    },\n\n    //* handles submit video resource\n    async submitNewVideo({ state, commit, dispatch, rootState }, parentType) {\n      let url = getIdFromURL(state.videoURL);\n      commit(\"SET_YOUTUBE_URL\", url);\n\n      //* sets parentID\n      const readParentID = (parentType) => {\n        if (parentType == \"event\") {\n          return rootState.events.eventId;\n        } else if (parentType == \"people\") {\n          return rootState.people.personId;\n        } else if (parentType == \"topic\") {\n          return rootState.topics.topicID;\n        }\n      };\n      let parentID = await readParentID(parentType);\n      commit(\"SET_VIDEO_PROPS\", {\n        parentID: parentID,\n        parentType: parentType,\n      });\n      commit(\"SET_VIDEO_TOPIC_ID\", rootState.topics.topicID);\n      commit(\"SET_SEARCH_ARRAY\", state.currentVideoResource.title);\n\n      if (parentID) {\n        console.log(\"4) video has parentID\");\n\n        //* adds new video to firestore\n        await resourcesRef.add(state.currentVideoResource).then(() => {\n          console.log(\"4) Submitted Video Resource\");\n        });\n      } else {\n        console.log(\"4) video does not have parentID\");\n      }\n      commit(\"UPDATE_VIDEOS\");\n      console.log(\"4) new video:\", state.currentArticle);\n      console.log(\"5) videos\", state.articles);\n      dispatch(\"clearVideoForm\");\n      // alert(\"Submitted Video Resource\");\n    },\n\n    async addVideoToDB({ state }) {\n      if (state.videos.length > 0) {\n        var batch = db.batch();\n        state.videos.forEach((doc) => {\n          var docRef = resourcesRef.doc(); //automatically generate unique id\n          batch.set(docRef, doc);\n        });\n        batch.commit();\n        console.log(\"9) Submitted Videos:\", state.videos);\n      }\n    },\n\n    //* sets current video for edit\n    editVideo({ commit, state }, video) {\n      commit(\"SET_VIDEO_ID\", video.id);\n\n      //* returns the index of the video for edit\n      let index = state.videos.findIndex((e) => e.id == video.id);\n\n      //* identifies the current video for edit using index\n      let currentVideo = state.videos[index];\n      commit(\"SET_CURRENT_VIDEO_RESOURCE\", currentVideo);\n      commit(\"SET_YOUTUBE_ID\", currentVideo.url);\n    },\n\n    //* submit edit video\n    async submitEditVideo({ state, dispatch, commit }) {\n      let url = getIdFromURL(state.videoURL);\n      commit(\"SET_YOUTUBE_URL\", url);\n      commit(\"UPDATE_SEARCH_ARRAY\", state.currentVideoResource.title);\n      await resourcesRef\n        .doc(state.videoID)\n        .set(state.currentVideoResource, { merge: true })\n        .then(() => {\n          console.log(\"Submit Edit for \" + state.currentVideoResource.title);\n        });\n      dispatch(\"clearVideoForm\");\n    },\n\n    //* delete video\n    async deleteVideo({ state, commit, dispatch }, video) {\n      await commit(\"SET_VIDEO_ID\", video.id);\n      await resourcesRef\n        .doc(state.videoID)\n        .delete()\n        .then(() => {\n          console.log(\"Successfully deleted\");\n        });\n      commit(\"SET_VIDEO_ID\", null);\n      dispatch(\"clearVideoForm\");\n    },\n  },\n  mutations: {\n    ...vuexfireMutations,\n    updateField,\n    SET_VIDEOS: (state, videos) => (state.videos = videos),\n    SET_VIDEO_ID: (state, id) => (state.videoID = id),\n    SET_YOUTUBE_URL: (state, url) => (state.currentVideoResource.url = url),\n    SET_YOUTUBE_ID: (state, id) => (state.videoURL = id),\n    SET_VIDEO_PROPS: (state, props) =>\n      (state.currentVideoResource = {\n        ...state.currentVideoResource,\n        ...props,\n      }),\n    SET_VIDEO_TOPIC_ID: (state, id) => {\n      state.currentVideoResource.topicID.push(id);\n    },\n    SET_SEARCH_ARRAY: (state, array) => {\n      //* splits the words into strings and stores in newArray\n      let newArray = array.split(\" \");\n      state.currentVideoResource.searchArray.push(...newArray);\n    },\n    SET_CURRENT_VIDEO_RESOURCE: (state, fields) =>\n      (state.currentVideoResource = fields),\n    UPDATE_SEARCH_ARRAY: (state, array) => {\n      let newArray = array.split(\" \");\n      state.currentVideoResource.searchArray = newArray;\n    },\n    UPDATE_VIDEOS: (state) => state.videos.push(state.currentVideoResource),\n    UPDATE_VIDEOS_ID: (state, id) => {\n      state.videos.forEach(function(video) {\n        video.parentID = id;\n      });\n      console.log(\"8) update videos with eventids:\", state.videos);\n    },\n  },\n};\n"]}]}