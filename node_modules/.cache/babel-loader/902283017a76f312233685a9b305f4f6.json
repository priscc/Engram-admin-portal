{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/node_modules/babel-loader/lib/index.js!/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/node_modules/eslint-loader/index.js??ref--13-0!/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/src/store/modules/people.js","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/src/store/modules/people.js","mtime":1619034450851},{"path":"/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/node_modules/cache-loader/dist/cjs.js","mtime":1618023230646},{"path":"/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/node_modules/babel-loader/lib/index.js","mtime":1618023230532},{"path":"/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/node_modules/eslint-loader/index.js","mtime":1618023254343}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3ByaXNjaWxsYV9jYW5jYXIvRG9jdW1lbnRzL1Z1ZVByb2plY3RzL1N0dWR5Qml0ZXMvc3R1ZHliaXRlc19BZG1pblBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvcHJpc2NpbGxhX2NhbmNhci9Eb2N1bWVudHMvVnVlUHJvamVjdHMvU3R1ZHlCaXRlcy9zdHVkeWJpdGVzX0FkbWluUG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3ByaXNjaWxsYV9jYW5jYXIvRG9jdW1lbnRzL1Z1ZVByb2plY3RzL1N0dWR5Qml0ZXMvc3R1ZHliaXRlc19BZG1pblBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IHZ1ZXhmaXJlTXV0YXRpb25zIH0gZnJvbSAidnVleGZpcmUiOwppbXBvcnQgeyBnZXRGaWVsZCwgdXBkYXRlRmllbGQgfSBmcm9tICJ2dWV4LW1hcC1maWVsZHMiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uLy4uL2ZpcmViYXNlL2RiIjsKdmFyIHBlb3BsZVJlZiA9IGRiLmNvbGxlY3Rpb24oInBlb3BsZSIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgcGVvcGxlOiBbXSwKICAgIHBlcnNvbklkOiBudWxsLAogICAgY3VycmVudFBlcnNvbjogewogICAgICBuYW1lOiAiIiwKICAgICAgbWFpbk1EOiAiIiwKICAgICAgdGh1bWJGaWxlOiAiIiwKICAgICAgdGh1bWJVUkw6ICIiLAogICAgICBkYXRlT2ZCaXJ0aDogewogICAgICAgIGRhdGU6ICIiLAogICAgICAgIGVyYTogdHJ1ZQogICAgICB9LAogICAgICBkYXRlT2ZQYXNzaW5nOiB7CiAgICAgICAgZGF0ZTogIiIsCiAgICAgICAgZXJhOiB0cnVlCiAgICAgIH0sCiAgICAgIHRvcGljSUQ6IFtdLAogICAgICBzZWFyY2hBcnJheTogW10KICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldEZpZWxkOiBnZXRGaWVsZCwKICAgIGN1cnJlbnRUb3BpY1Blb3BsZTogZnVuY3Rpb24gY3VycmVudFRvcGljUGVvcGxlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wZW9wbGU7CiAgICB9LAogICAgY3VycmVudFBlcnNvbklkOiBmdW5jdGlvbiBjdXJyZW50UGVyc29uSWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBlcnNvbklkOwogICAgfSwKICAgIGN1cnJlbnRQZXJzb246IGZ1bmN0aW9uIGN1cnJlbnRQZXJzb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRQZXJzb247CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyogZmV0Y2hlcyB0aGUgbGlzdCBvZiBoaXN0IHBlb3BsZSB1bmRlciBjdXJyZW50IHRvcGljCiAgICBmZXRjaFBlb3BsZTogZnVuY3Rpb24gZmV0Y2hQZW9wbGUoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByb290U3RhdGUsIGNvbW1pdCwgc3RhdGUsIHBlb3BsZUxpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdFN0YXRlID0gX3JlZi5yb290U3RhdGUsIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICAgICAgICAgICAgICBwZW9wbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBwZW9wbGVSZWYud2hlcmUoInRvcGljSUQiLCAiYXJyYXktY29udGFpbnMtYW55IiwgW3Jvb3RTdGF0ZS50b3BpY3MudG9waWNJRF0pLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBlb3BsZUl0ZW0gPSBkb2MuZGF0YSgpOyAvLyogYXBwZW5kcyB1bmlxdWUgZXZlbnQgaWQgdG8gZWFjaCBldmVudAoKICAgICAgICAgICAgICAgICAgICBwZW9wbGVMaXN0LnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwZW9wbGVJdGVtKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9UT1BJQ19QRU9QTEUiLCBwZW9wbGVMaXN0KTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUucGVvcGxlKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocm9vdFN0YXRlLnRvcGljcy50b3BpY0lEKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGhhbmRsZXIgZm9yIGFkZCBoaXN0b3JpY2FsIHBlcnNvbgogICAgc2V0UGVyc29uRm9ybTogZnVuY3Rpb24gc2V0UGVyc29uRm9ybShfcmVmMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgZmllbGRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQsIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICAgICAgICAgICAgICBmaWVsZHMgPSB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICAgICAgICBtYWluTUQ6ICIiLAogICAgICAgICAgICAgICAgICB0aHVtYkZpbGU6ICIiLAogICAgICAgICAgICAgICAgICB0aHVtYlVSTDogIiIsCiAgICAgICAgICAgICAgICAgIGRhdGVPZkJpcnRoOiB7CiAgICAgICAgICAgICAgICAgICAgZGF0ZTogIiIsCiAgICAgICAgICAgICAgICAgICAgZXJhOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGRhdGVPZlBhc3Npbmc6IHsKICAgICAgICAgICAgICAgICAgICBkYXRlOiAiIiwKICAgICAgICAgICAgICAgICAgICBlcmE6IHRydWUKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdG9waWNJRDogW10sCiAgICAgICAgICAgICAgICAgIHNlYXJjaEFycmF5OiBbXQogICAgICAgICAgICAgICAgfTsgLy8gYXdhaXQgZGlzcGF0Y2goJ2NsZWFyUGVyc29uSWQnKQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlNFVF9DVVJSRU5UX1BFUlNPTiIsIGZpZWxkcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLnBlcnNvbklkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGNsZWFycyB0aGUgY3VycmVudCBwZXJzb24gaWQKICAgIGNsZWFyUGVyc29uSWQ6IGZ1bmN0aW9uIGNsZWFyUGVyc29uSWQoX3JlZjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiQ0xFQVJfUEVSU09OX0lEIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBoYW5kbGVzIHN1Ym1pdCBuZXcgcGVyc29uIGRhdGEKICAgIHN1Ym1pdE5ld1BlcnNvbjogZnVuY3Rpb24gc3VibWl0TmV3UGVyc29uKF9yZWY0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgc3RhdGUsIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaCwgc3RhdGUgPSBfcmVmNC5zdGF0ZSwgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJzZXRQZXJzb25Ub3BpY0lkIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlNFVF9TRUFSQ0hfQVJSQVkiLCBzdGF0ZS5jdXJyZW50UGVyc29uLm5hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcGVvcGxlUmVmLmFkZChzdGF0ZS5jdXJyZW50UGVyc29uKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN0YXRlIiwgc3RhdGUpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUGVyc29uIEFkZGVkIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIHNldHMgdGhlIHRvcGljIGlkIGZvciB0aGUgY3VycmVudCBwZXJzb24KICAgIHNldFBlcnNvblRvcGljSWQ6IGZ1bmN0aW9uIHNldFBlcnNvblRvcGljSWQoX3JlZjUpIHsKICAgICAgdmFyIHJvb3RTdGF0ZSA9IF9yZWY1LnJvb3RTdGF0ZSwKICAgICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIGNvbW1pdCgiU0VUX1BFUlNPTl9UT1BJQ19JRCIsIHJvb3RTdGF0ZS50b3BpY3MudG9waWNJRCk7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRQZXJzb24udG9waWNJRCk7CiAgICB9LAogICAgLy8qIHNldHMgY3VycmVudCBldmVudCBmb3IgZWRpdAogICAgZWRpdFBlcnNvbjogZnVuY3Rpb24gZWRpdFBlcnNvbihfcmVmNiwgcGVyc29uKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgaW5kZXgsIGN1cnJlbnRQZXJzb247CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjYuc3RhdGUsIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNi5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlNFVF9QRVJTT05fSUQiLCBwZXJzb24uaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5wZXJzb25JZCk7IC8vKiBzZXRzIHRoZSBpbmRleCBvZiB0aGUgcGVyc29uIGZvciBlZGl0CgogICAgICAgICAgICAgICAgaW5kZXggPSBzdGF0ZS5wZW9wbGUuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlLmlkID09IHBlcnNvbi5pZDsKICAgICAgICAgICAgICAgIH0pOyAvLyogaWRlbnRpZmllcyB0aGUgY3VycmVudCBwZXJzb24gZm9yIGVkaXQKCiAgICAgICAgICAgICAgICBjdXJyZW50UGVyc29uID0gc3RhdGUucGVvcGxlW2luZGV4XTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX0NVUlJFTlRfUEVSU09OIiwgY3VycmVudFBlcnNvbik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5jdXJyZW50UGVyc29uKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goImZldGNoUGVyc29uUmVzb3VyY2VzIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogaGFuZGxlcyBzdWJtaXQgZm9yIGVkaXQgcGVyc29uCiAgICBzdWJtaXRFZGl0UGVyc29uOiBmdW5jdGlvbiBzdWJtaXRFZGl0UGVyc29uKF9yZWY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY3LnN0YXRlLCBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJVUERBVEVfU0VBUkNIX0FSUkFZIiwgc3RhdGUuY3VycmVudFBlcnNvbi5uYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHBlb3BsZVJlZi5kb2Moc3RhdGUucGVyc29uSWQpLnNldChzdGF0ZS5jdXJyZW50UGVyc29uLCB7CiAgICAgICAgICAgICAgICAgIG1lcmdlOiB0cnVlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Ym1pdCBFZGl0IGZvciAiICsgc3RhdGUuY3VycmVudFBlcnNvbi5uYW1lKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogZGVsZXRlcyBwZXJzb24gZnJvbSB0aGUgZGF0YWJhc2UKICAgIGRlbGV0ZVBlcnNvbjogZnVuY3Rpb24gZGVsZXRlUGVyc29uKF9yZWY4LCBwZXJzb24pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIGRpc3BhdGNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQsIHN0YXRlID0gX3JlZjguc3RhdGUsIGRpc3BhdGNoID0gX3JlZjguZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJTRVRfUEVSU09OX0lEIiwgcGVyc29uLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcGVvcGxlUmVmLmRvYyhzdGF0ZS5wZXJzb25JZCkuZGVsZXRlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzZnVsbHkgZGVsZXRlZCIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJmZXRjaFBlb3BsZSIpOwogICAgICAgICAgICAgICAgfSwgMjAwKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGR5bmFtaWMgc2F2ZSBidXR0b24KICAgIGhhbmRsZVNhdmU6IGZ1bmN0aW9uIGhhbmRsZVNhdmUoX3JlZjkpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjkuc3RhdGUsCiAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY5LmRpc3BhdGNoOwoKICAgICAgaWYgKHN0YXRlLnBlcnNvbklkICE9IG51bGwpIHsKICAgICAgICAvLyogaGFuZGxlcyB0aGUgc3VibWl0IGFzIGFuIGVkaXQgaWYgZWRpdGluZyBhIHBlcnNvbgogICAgICAgIGRpc3BhdGNoKCJzdWJtaXRFZGl0UGVyc29uIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8qIGhhbmRsZXMgdGhlIHN1Ym1pdCBhcyBhIG5ldyBldmVudCBpZiBhZGRpbmcgYSBwZXJzb24KICAgICAgICBkaXNwYXRjaCgic3VibWl0TmV3UGVyc29uIik7CiAgICAgIH0KICAgIH0KICB9LAogIG11dGF0aW9uczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2dWV4ZmlyZU11dGF0aW9ucyksIHt9LCB7CiAgICB1cGRhdGVGaWVsZDogdXBkYXRlRmllbGQsCiAgICBTRVRfVE9QSUNfUEVPUExFOiBmdW5jdGlvbiBTRVRfVE9QSUNfUEVPUExFKHN0YXRlLCBwZW9wbGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBlb3BsZSA9IHBlb3BsZTsKICAgIH0sCiAgICBTRVRfQ1VSUkVOVF9QRVJTT046IGZ1bmN0aW9uIFNFVF9DVVJSRU5UX1BFUlNPTihzdGF0ZSwgcGVyc29uKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jdXJyZW50UGVyc29uID0gcGVyc29uOwogICAgfSwKICAgIENMRUFSX1BFUlNPTl9JRDogZnVuY3Rpb24gQ0xFQVJfUEVSU09OX0lEKHN0YXRlLCBpZCkgewogICAgICByZXR1cm4gc3RhdGUucGVyc29uSWQgPSBpZDsKICAgIH0sCiAgICBTRVRfUEVSU09OX1RPUElDX0lEOiBmdW5jdGlvbiBTRVRfUEVSU09OX1RPUElDX0lEKHN0YXRlLCB0b3BpY0lEKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRQZXJzb24udG9waWNJRC5wdXNoKHRvcGljSUQpOwogICAgfSwKICAgIFNFVF9QRVJTT05fSUQ6IGZ1bmN0aW9uIFNFVF9QRVJTT05fSUQoc3RhdGUsIHBlcnNvbklkKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wZXJzb25JZCA9IHBlcnNvbklkOwogICAgfSwKICAgIFNFVF9TRUFSQ0hfQVJSQVk6IGZ1bmN0aW9uIFNFVF9TRUFSQ0hfQVJSQVkoc3RhdGUsIGFycmF5KSB7CiAgICAgIHZhciBfc3RhdGUkY3VycmVudFBlcnNvbiQ7CgogICAgICAvLyogc3BsaXRzIHRoZSB3b3JkcyBpbnRvIHN0cmluZ3MgYW5kIHN0b3JlcyBpbiBuZXdBcnJheQogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheS5zcGxpdCgiICIpOwoKICAgICAgKF9zdGF0ZSRjdXJyZW50UGVyc29uJCA9IHN0YXRlLmN1cnJlbnRQZXJzb24uc2VhcmNoQXJyYXkpLnB1c2guYXBwbHkoX3N0YXRlJGN1cnJlbnRQZXJzb24kLCBfdG9Db25zdW1hYmxlQXJyYXkobmV3QXJyYXkpKTsKICAgIH0sCiAgICBVUERBVEVfU0VBUkNIX0FSUkFZOiBmdW5jdGlvbiBVUERBVEVfU0VBUkNIX0FSUkFZKHN0YXRlLCBhcnJheSkgewogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheS5zcGxpdCgiICIpOwogICAgICBzdGF0ZS5jdXJyZW50UGVyc29uLnNlYXJjaEFycmF5ID0gbmV3QXJyYXk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["/Users/priscilla_cancar/Documents/VueProjects/StudyBites/studybites_AdminPortal/src/store/modules/people.js"],"names":["vuexfireMutations","getField","updateField","db","peopleRef","collection","namespaced","state","people","personId","currentPerson","name","mainMD","thumbFile","thumbURL","dateOfBirth","date","era","dateOfPassing","topicID","searchArray","getters","currentTopicPeople","currentPersonId","actions","fetchPeople","rootState","commit","peopleList","where","topics","get","then","querySnapshot","docs","map","doc","peopleItem","data","push","id","console","log","setPersonForm","fields","clearPersonId","submitNewPerson","dispatch","add","setPersonTopicId","editPerson","person","index","findIndex","e","submitEditPerson","set","merge","deletePerson","delete","setTimeout","handleSave","mutations","SET_TOPIC_PEOPLE","SET_CURRENT_PERSON","CLEAR_PERSON_ID","SET_PERSON_TOPIC_ID","SET_PERSON_ID","SET_SEARCH_ARRAY","array","newArray","split","UPDATE_SEARCH_ARRAY"],"mappings":"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","sourcesContent":["import { vuexfireMutations } from \"vuexfire\";\nimport { getField, updateField } from \"vuex-map-fields\";\nimport { db } from \"../../firebase/db\";\n\nconst peopleRef = db.collection(\"people\");\n\nexport default {\n  namespaced: true,\n\n  state: {\n    people: [],\n    personId: null,\n    currentPerson: {\n      name: \"\",\n      mainMD: \"\",\n      thumbFile: \"\",\n      thumbURL: \"\",\n      dateOfBirth: {\n        date: \"\",\n        era: true,\n      },\n      dateOfPassing: {\n        date: \"\",\n        era: true,\n      },\n      topicID: [],\n      searchArray: [],\n    },\n  },\n\n  getters: {\n    getField,\n    currentTopicPeople: (state) => state.people,\n    currentPersonId: (state) => state.personId,\n    currentPerson: (state) => state.currentPerson,\n  },\n\n  actions: {\n    //* fetches the list of hist people under current topic\n    async fetchPeople({ rootState, commit, state }) {\n      let peopleList = [];\n      await peopleRef\n        .where(\"topicID\", \"array-contains-any\", [rootState.topics.topicID])\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            let peopleItem = doc.data();\n\n            //* appends unique event id to each event\n            peopleList.push({\n              ...peopleItem,\n              id: doc.id,\n            });\n          });\n\n          commit(\"SET_TOPIC_PEOPLE\", peopleList);\n          console.log(state.people);\n          console.log(rootState.topics.topicID);\n        });\n    },\n\n    //* handler for add historical person\n    async setPersonForm({ commit, state }) {\n      const fields = {\n        name: \"\",\n        mainMD: \"\",\n        thumbFile: \"\",\n        thumbURL: \"\",\n        dateOfBirth: {\n          date: \"\",\n          era: true,\n        },\n        dateOfPassing: {\n          date: \"\",\n          era: true,\n        },\n        topicID: [],\n        searchArray: [],\n      };\n      // await dispatch('clearPersonId')\n      await commit(\"SET_CURRENT_PERSON\", fields);\n      console.log(state.personId);\n    },\n\n    //* clears the current person id\n    async clearPersonId({ commit }) {\n      await commit(\"CLEAR_PERSON_ID\", null);\n    },\n\n    //* handles submit new person data\n    async submitNewPerson({ dispatch, state, commit }) {\n      await dispatch(\"setPersonTopicId\");\n      await commit(\"SET_SEARCH_ARRAY\", state.currentPerson.name);\n\n      await peopleRef.add(state.currentPerson).then(() => {\n        console.log(\"state\", state);\n        console.log(\"Person Added\");\n      });\n    },\n\n    //* sets the topic id for the current person\n    setPersonTopicId({ rootState, state, commit }) {\n      commit(\"SET_PERSON_TOPIC_ID\", rootState.topics.topicID);\n      console.log(state.currentPerson.topicID);\n    },\n\n    //* sets current event for edit\n    async editPerson({ state, commit, dispatch }, person) {\n      await commit(\"SET_PERSON_ID\", person.id);\n      console.log(state.personId);\n\n      //* sets the index of the person for edit\n      let index = state.people.findIndex((e) => e.id == person.id);\n\n      //* identifies the current person for edit\n      let currentPerson = state.people[index];\n\n      commit(\"SET_CURRENT_PERSON\", currentPerson);\n      console.log(state.currentPerson);\n\n      await dispatch(\"fetchPersonResources\");\n    },\n\n    //* handles submit for edit person\n    async submitEditPerson({ state, commit }) {\n      await commit(\"UPDATE_SEARCH_ARRAY\", state.currentPerson.name);\n      await peopleRef\n        .doc(state.personId)\n        .set(state.currentPerson, { merge: true })\n        .then(() => {\n          console.log(\"Submit Edit for \" + state.currentPerson.name);\n        });\n    },\n\n    //* deletes person from the database\n    async deletePerson({ commit, state, dispatch }, person) {\n      await commit(\"SET_PERSON_ID\", person.id);\n      peopleRef\n        .doc(state.personId)\n        .delete()\n        .then(() => {\n          console.log(\"Successfully deleted\");\n        });\n      setTimeout(() => dispatch(\"fetchPeople\"), 200);\n    },\n\n    //* dynamic save button\n    handleSave({ state, dispatch }) {\n      if (state.personId != null) {\n        //* handles the submit as an edit if editing a person\n        dispatch(\"submitEditPerson\");\n      } else {\n        //* handles the submit as a new event if adding a person\n        dispatch(\"submitNewPerson\");\n      }\n    },\n  },\n\n  mutations: {\n    ...vuexfireMutations,\n    updateField,\n    SET_TOPIC_PEOPLE: (state, people) => (state.people = people),\n    SET_CURRENT_PERSON: (state, person) => (state.currentPerson = person),\n    CLEAR_PERSON_ID: (state, id) => (state.personId = id),\n    SET_PERSON_TOPIC_ID: (state, topicID) => {\n      state.currentPerson.topicID.push(topicID);\n    },\n    SET_PERSON_ID: (state, personId) => (state.personId = personId),\n    SET_SEARCH_ARRAY: (state, array) => {\n      //* splits the words into strings and stores in newArray\n      let newArray = array.split(\" \");\n      state.currentPerson.searchArray.push(...newArray);\n    },\n    UPDATE_SEARCH_ARRAY: (state, array) => {\n      let newArray = array.split(\" \");\n      state.currentPerson.searchArray = newArray;\n    },\n  },\n};\n"]}]}