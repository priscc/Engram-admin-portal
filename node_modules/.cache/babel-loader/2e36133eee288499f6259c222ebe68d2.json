{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js!/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/topics.js","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/topics.js","mtime":1642918108804},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js","mtime":1640582288508}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB2dWV4ZmlyZU11dGF0aW9ucywgZmlyZXN0b3JlQWN0aW9uIH0gZnJvbSAidnVleGZpcmUiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uLy4uL2ZpcmViYXNlL2RiIjsKaW1wb3J0IHsgZ2V0RmllbGQsIHVwZGF0ZUZpZWxkIH0gZnJvbSAidnVleC1tYXAtZmllbGRzIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIiOwp2YXIgdG9waWNzUmVmID0gZGIuY29sbGVjdGlvbigidG9waWNzIik7CnZhciByZXNvdXJjZXNSZWYgPSBkYi5jb2xsZWN0aW9uKCJyZXNvdXJjZXMiKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHRvcGljczogW10sCiAgICB0b3BpY0lEOiBudWxsLAogICAgY3VycmVudFRvcGljOiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgaW50cm9NRDogIiIsCiAgICAgIGludHJvX3RodW1iRmlsZTogIiIsCiAgICAgIGludHJvX3RodW1iVVJMOiAiIiwKICAgICAgdG9waWNfdGh1bWJGaWxlOiAiIiwKICAgICAgdG9waWNfdGh1bWJVUkw6ICIiLAogICAgICBkaXNhYmxlZDogdHJ1ZSwKICAgICAgdGltZVBlcmlvZDogbnVsbCwKICAgICAgc2VhcmNoQXJyYXk6IFtdCiAgICB9LAogICAgdmlkZW9JRDogbnVsbCwKICAgIHZpZGVvVVJMOiBudWxsLAogICAgcmVzb3VyY2VzOiBbXSwKICAgIGFydGljbGVzOiBbXSwKICAgIHZpZGVvczogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGFsbFRvcGljczogZnVuY3Rpb24gYWxsVG9waWNzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3BpY3M7CiAgICB9LAogICAgY3VycmVudElkOiBmdW5jdGlvbiBjdXJyZW50SWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRvcGljSUQ7CiAgICB9LAogICAgY3VycmVudFRvcGljOiBmdW5jdGlvbiBjdXJyZW50VG9waWMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRUb3BpYzsKICAgIH0sCiAgICBjdXJyZW50UmVzb3VyY2VzOiBmdW5jdGlvbiBjdXJyZW50UmVzb3VyY2VzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yZXNvdXJjZXM7CiAgICB9LAogICAgY3VycmVudEFydGljbGVzOiBmdW5jdGlvbiBjdXJyZW50QXJ0aWNsZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFydGljbGVzOwogICAgfSwKICAgIGdldEZpZWxkOiBnZXRGaWVsZAogIH0sCiAgYWN0aW9uczogewogICAgYmluZFRvcGljczogZmlyZXN0b3JlQWN0aW9uKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBiaW5kRmlyZXN0b3JlUmVmID0gX3JlZi5iaW5kRmlyZXN0b3JlUmVmOwogICAgICAvLyByZXR1cm4gdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgYGJpbmRGaXJlc3RvcmVSZWZgCiAgICAgIHJldHVybiBiaW5kRmlyZXN0b3JlUmVmKCJ0b3BpY3MiLCBkYi5jb2xsZWN0aW9uKCJ0b3BpY3MiKSk7CiAgICB9KSwKICAgIC8vKiBhZGQgdG9waWMKICAgIGFkZFRvcGljRm9ybTogZnVuY3Rpb24gYWRkVG9waWNGb3JtKF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGZpZWxkczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlLCBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBmaWVsZHMgPSB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgICAgICAgICAgaW50cm9NRDogIiIsCiAgICAgICAgICAgICAgICAgIGludHJvX3RodW1iRmlsZTogIiIsCiAgICAgICAgICAgICAgICAgIGludHJvX3RodW1iVVJMOiAiIiwKICAgICAgICAgICAgICAgICAgdG9waWNfdGh1bWJGaWxlOiAiIiwKICAgICAgICAgICAgICAgICAgdG9waWNfdGh1bWJVUkw6ICIiLAogICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGltZVBlcmlvZDogbnVsbCwKICAgICAgICAgICAgICAgICAgc2VhcmNoQXJyYXk6IFtdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJTRVRfQ1VSUkVOVF9UT1BJQyIsIGZpZWxkcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRUb3BpYyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogc3VibWl0IG5ldyB0b3BpYwogICAgc3VibWl0TmV3VG9waWM6IGZ1bmN0aW9uIHN1Ym1pdE5ld1RvcGljKF9yZWYzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSwgY29tbWl0ID0gX3JlZjMuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfU0VBUkNIX0FSUkFZIiwgc3RhdGUuY3VycmVudFRvcGljLnRpdGxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0b3BpY3NSZWYuYWRkKHN0YXRlLmN1cnJlbnRUb3BpYykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWJtaXR0ZWQgTmV3IFRvcGljIik7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAiL3RvcGljbGlzdCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5jdXJyZW50VG9waWMpOyAvLyogY2xlYXJzIHRoZSBmaWVsZHMKCiAgICAgICAgICAgICAgICBkaXNwYXRjaCgiY2xlYXJGaWVsZHMiKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGZldGNoZXMgYWxsIHRvcGljcyBmcm9tIGZpcmVzdG9yZQogICAgZmV0Y2hUb3BpY3M6IGZ1bmN0aW9uIGZldGNoVG9waWNzKF9yZWY0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBjb21taXQsIGRvY3VtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgZG9jdW1lbnRzID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdG9waWNzUmVmLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcGljSXRlbURhdGEgPSBkb2MuZGF0YSgpOyAvLyogZ2V0cyB0aGUgdW5pcXVlIHRvcGljIGlkIGFuZCBhcHBlbmRzIGl0IGluIGVhY2ggdG9waWMKCiAgICAgICAgICAgICAgICAgICAgLy8qIGdldHMgdGhlIHVuaXF1ZSB0b3BpYyBpZCBhbmQgYXBwZW5kcyBpdCBpbiBlYWNoIHRvcGljCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b3BpY0l0ZW1EYXRhKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgIH0pOyAvLyogc29ydHMgdGhlIHRvcGljcyBhY2NvcmRpbmcgdG8gaXRzIHRpbWUgcGVyaW9kCgogICAgICAgICAgICAgICAgICAvLyogc29ydHMgdGhlIHRvcGljcyBhY2NvcmRpbmcgdG8gaXRzIHRpbWUgcGVyaW9kCiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBkb2N1bWVudHMucmVkdWNlKGZ1bmN0aW9uIChyLCBhKSB7CiAgICAgICAgICAgICAgICAgICAgclthLnRpbWVQZXJpb2RdID0gclthLnRpbWVQZXJpb2RdIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIHJbYS50aW1lUGVyaW9kXS5wdXNoKGEpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByOwogICAgICAgICAgICAgICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfVE9QSUNTIiwgcmVzdWx0KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogY2xlYXIgZmllbGRzCiAgICBjbGVhckZpZWxkczogZnVuY3Rpb24gY2xlYXJGaWVsZHMoX3JlZjUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgY29tbWl0KCJTRVRfQ1VSUkVOVF9UT1BJQyIsIHsKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgaW50cm9NRDogIiIsCiAgICAgICAgaW50cm9fdGh1bWJGaWxlOiAiIiwKICAgICAgICBpbnRyb190aHVtYlVSTDogIiIsCiAgICAgICAgdG9waWNfdGh1bWJGaWxlOiAiIiwKICAgICAgICB0b3BpY190aHVtYlVSTDogIiIsCiAgICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgICAgdGltZVBlcmlvZDogbnVsbCwKICAgICAgICBzZWFyY2hBcnJheTogW10KICAgICAgfSk7CiAgICB9LAogICAgLy8qIHRvcGljIGlkIGdldHMgc3RvcmVkIHRvIHRoZSBzdGF0ZSBhbmQgdXNlZCBpbiBxdWVyeWluZyB0aGUgc3BlY2lmaWMgdG9waWMKICAgIGVkaXRUb3BpYzogZnVuY3Rpb24gZWRpdFRvcGljKF9yZWY2LCB0b3BpYykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgcGVyaW9kLCB0aW1lUGVyaW9kLCB0b3BpY0xpc3QsIGluZGV4LCBjdXJyZW50VG9waWM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjYuc3RhdGUsIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlNFVF9JRCIsIHRvcGljLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8qIGlkZW50aWZpZXMgdGhlIHRpbWUgcGVyaW9kIG9mIHRoZSB0b3BpYyBmb3IgZWRpdAogICAgICAgICAgICAgICAgcGVyaW9kID0gT2JqZWN0LmtleXMoc3RhdGUudG9waWNzKS5maWx0ZXIoZnVuY3Rpb24gKHRpbWUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpbWUgPT0gdG9waWMudGltZVBlcmlvZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGltZVBlcmlvZCA9IHBhcnNlSW50KHBlcmlvZFswXSk7IC8vKiBzZXRzIHRoZSBsaXN0IG9mIGFycmF5IHVuZGVyIG9uZSB0aW1lIHBlcmlvZAoKICAgICAgICAgICAgICAgIHRvcGljTGlzdCA9IHN0YXRlLnRvcGljc1t0aW1lUGVyaW9kXTsKICAgICAgICAgICAgICAgIGluZGV4ID0gdG9waWNMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZS5pZCA9PSB0b3BpYy5pZDsKICAgICAgICAgICAgICAgIH0pOyAvLyogaWRlbnRpZmllcyB0aGUgY3VycmVudCB0b3BpYyBmb3IgZWRpdAoKICAgICAgICAgICAgICAgIGN1cnJlbnRUb3BpYyA9IHRvcGljTGlzdFtpbmRleF07CiAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9DVVJSRU5UX1RPUElDIiwgY3VycmVudFRvcGljKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGhhbmRsZXMgc3VibWl0IGZvciBlZGl0IHRvcGljCiAgICBzdWJtaXRFZGl0VG9waWM6IGZ1bmN0aW9uIHN1Ym1pdEVkaXRUb3BpYyhfcmVmNykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGUsIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIGNvbW1pdCgiVVBEQVRFX1NFQVJDSF9BUlJBWSIsIHN0YXRlLmN1cnJlbnRUb3BpYy50aXRsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdG9waWNzUmVmLmRvYyhzdGF0ZS50b3BpY0lEKS5zZXQoc3RhdGUuY3VycmVudFRvcGljLCB7CiAgICAgICAgICAgICAgICAgIG1lcmdlOiB0cnVlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Ym1pdHRlZCBFZGl0ZWQgVG9waWMiKTsKICAgICAgICAgICAgICAgICAgYWxlcnQoIlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdG9waWMiKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgiY2xvc2VGb3JtIiwgIlRvcGljTGlzdCIsICIvdG9waWNsaXN0Iik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBjbGVhcnMgdGVybSBpZAogICAgY2xlYXJUb3BpY0lkOiBmdW5jdGlvbiBjbGVhclRvcGljSWQoX3JlZjgpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICAgICAgY29tbWl0KCJTRVRfSUQiLCBudWxsKTsKICAgIH0sCiAgICAvLyogaGFuZGxlcyB0aGUgY2xvc2UgYnV0dG9uIG9mIGEgZm9ybQogICAgY2xvc2VGb3JtOiBmdW5jdGlvbiBjbG9zZUZvcm0oX3JlZjksIG5hbWUsIHBhdGgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY5LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJjbGVhclRvcGljSWQiKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjbG9zZWQgdG9waWMgZm9ybSIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogZ2V0cyBhbGwgYXJ0aWNsZXMgZm9yIGEgdG9waWMKICAgIGZldGNoQXJ0aWNsZXM6IGZ1bmN0aW9uIGZldGNoQXJ0aWNsZXMoX3JlZjEwKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBhcnRpY2xlc0xpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjEwLnN0YXRlLCBjb21taXQgPSBfcmVmMTAuY29tbWl0OwogICAgICAgICAgICAgICAgYXJ0aWNsZXNMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzUmVmLndoZXJlKCJ0b3BpY0lEIiwgImFycmF5LWNvbnRhaW5zLWFueSIsIFtzdGF0ZS50b3BpY0lEXSkud2hlcmUoInBhcmVudFR5cGUiLCAiPT0iLCAidG9waWMiKS53aGVyZSgicmVzb3VyY2VUeXBlIiwgIj09IiwgImFydGljbGUiKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChxdWVyeVNuYXBzaG90KSB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICAgIHZhciBhcnRpY2xlSXRlbSA9IGRvYy5kYXRhKCk7IC8vKiBhcHBlbmRzIHVuaXF1ZSBhcnRpY2xlIGlkIHRvIGVhY2ggYXJ0aWNsZQoKICAgICAgICAgICAgICAgICAgICAvLyogYXBwZW5kcyB1bmlxdWUgYXJ0aWNsZSBpZCB0byBlYWNoIGFydGljbGUKICAgICAgICAgICAgICAgICAgICBhcnRpY2xlc0xpc3QucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFydGljbGVJdGVtKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9BUlRJQ0xFUyIsIGFydGljbGVzTGlzdCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdnVleGZpcmVNdXRhdGlvbnMpLCB7fSwgewogICAgU0VUX1RPUElDUzogZnVuY3Rpb24gU0VUX1RPUElDUyhzdGF0ZSwgdG9waWNzKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3BpY3MgPSB0b3BpY3M7CiAgICB9LAogICAgU0VUX0lEOiBmdW5jdGlvbiBTRVRfSUQoc3RhdGUsIGlkKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3BpY0lEID0gaWQ7CiAgICB9LAogICAgU0VUX0NVUlJFTlRfVE9QSUM6IGZ1bmN0aW9uIFNFVF9DVVJSRU5UX1RPUElDKHN0YXRlLCB0b3BpYykgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudFRvcGljID0gdG9waWM7CiAgICB9LAogICAgU0VUX0FSVElDTEVTOiBmdW5jdGlvbiBTRVRfQVJUSUNMRVMoc3RhdGUsIGFydGljbGVzKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hcnRpY2xlcyA9IGFydGljbGVzOwogICAgfSwKICAgIFNFVF9TRUFSQ0hfQVJSQVk6IGZ1bmN0aW9uIFNFVF9TRUFSQ0hfQVJSQVkoc3RhdGUsIGFycmF5KSB7CiAgICAgIHZhciBfc3RhdGUkY3VycmVudFRvcGljJHM7CgogICAgICAvLyogc3BsaXRzIHRoZSB3b3JkcyBpbnRvIHN0cmluZ3MgYW5kIHN0b3JlcyBpbiBuZXdBcnJheQogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheS5zcGxpdCgiICIpOwoKICAgICAgKF9zdGF0ZSRjdXJyZW50VG9waWMkcyA9IHN0YXRlLmN1cnJlbnRUb3BpYy5zZWFyY2hBcnJheSkucHVzaC5hcHBseShfc3RhdGUkY3VycmVudFRvcGljJHMsIF90b0NvbnN1bWFibGVBcnJheShuZXdBcnJheSkpOwogICAgfSwKICAgIFVQREFURV9TRUFSQ0hfQVJSQVk6IGZ1bmN0aW9uIFVQREFURV9TRUFSQ0hfQVJSQVkoc3RhdGUsIGFycmF5KSB7CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5LnNwbGl0KCIgIik7CiAgICAgIHN0YXRlLmN1cnJlbnRUb3BpYy5zZWFyY2hBcnJheSA9IG5ld0FycmF5OwogICAgfSwKICAgIHVwZGF0ZUZpZWxkOiB1cGRhdGVGaWVsZAogIH0pCn07"},{"version":3,"sources":["/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/topics.js"],"names":["vuexfireMutations","firestoreAction","db","getField","updateField","router","topicsRef","collection","resourcesRef","namespaced","state","topics","topicID","currentTopic","title","introMD","intro_thumbFile","intro_thumbURL","topic_thumbFile","topic_thumbURL","disabled","timePeriod","searchArray","videoID","videoURL","resources","articles","videos","getters","allTopics","currentId","currentResources","currentArticles","actions","bindTopics","bindFirestoreRef","addTopicForm","commit","fields","console","log","submitNewTopic","dispatch","add","then","replace","path","catch","err","fetchTopics","documents","get","querySnapshot","docs","map","doc","topicItemData","data","push","id","result","reduce","r","a","Object","create","clearFields","editTopic","topic","period","keys","filter","time","parseInt","topicList","index","findIndex","e","submitEditTopic","set","merge","alert","clearTopicId","closeForm","name","fetchArticles","articlesList","where","articleItem","mutations","SET_TOPICS","SET_ID","SET_CURRENT_TOPIC","SET_ARTICLES","SET_SEARCH_ARRAY","array","newArray","split","UPDATE_SEARCH_ARRAY"],"mappings":"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","sourcesContent":["import { vuexfireMutations, firestoreAction } from \"vuexfire\";\nimport { db } from \"../../firebase/db\";\nimport { getField, updateField } from \"vuex-map-fields\";\nimport router from \"../../router\";\n\nconst topicsRef = db.collection(\"topics\");\nconst resourcesRef = db.collection(\"resources\");\n\nexport default {\n  namespaced: true,\n  state: {\n    topics: [],\n    topicID: null,\n    currentTopic: {\n      title: \"\",\n      introMD: \"\",\n      intro_thumbFile: \"\",\n      intro_thumbURL: \"\",\n      topic_thumbFile: \"\",\n      topic_thumbURL: \"\",\n      disabled: true,\n      timePeriod: null,\n      searchArray: [],\n    },\n    videoID: null,\n    videoURL: null,\n    resources: [],\n    articles: [],\n    videos: [],\n  },\n\n  getters: {\n    allTopics: (state) => state.topics,\n    currentId: (state) => state.topicID,\n    currentTopic: (state) => state.currentTopic,\n    currentResources: (state) => state.resources,\n    currentArticles: (state) => state.articles,\n    getField,\n  },\n\n  actions: {\n    bindTopics: firestoreAction(({ bindFirestoreRef }) => {\n      // return the promise returned by `bindFirestoreRef`\n      return bindFirestoreRef(\"topics\", db.collection(\"topics\"));\n    }),\n\n    //* add topic\n    async addTopicForm({ state, commit }) {\n      const fields = {\n        title: \"\",\n        introMD: \"\",\n        intro_thumbFile: \"\",\n        intro_thumbURL: \"\",\n        topic_thumbFile: \"\",\n        topic_thumbURL: \"\",\n        disabled: true,\n        timePeriod: null,\n        searchArray: [],\n      };\n      await commit(\"SET_CURRENT_TOPIC\", fields);\n      console.log(state.currentTopic);\n    },\n\n    //* submit new topic\n    async submitNewTopic({ state, commit, dispatch }) {\n      commit(\"SET_SEARCH_ARRAY\", state.currentTopic.title);\n\n      await topicsRef\n        .add(state.currentTopic)\n        .then(() => {\n          console.log(\"Submitted New Topic\");\n          router.replace({ path: \"/topiclist\" });\n        })\n        .catch((err) => {\n          console.log(err);\n          return false;\n        });\n      console.log(state.currentTopic);\n\n      //* clears the fields\n      dispatch(\"clearFields\");\n    },\n\n    //* fetches all topics from firestore\n    async fetchTopics({ commit }) {\n      let documents = [];\n      await topicsRef.get().then((querySnapshot) => {\n        querySnapshot.docs.map((doc) => {\n          let topicItemData = doc.data();\n          //* gets the unique topic id and appends it in each topic\n          documents.push({\n            ...topicItemData,\n            id: doc.id,\n          });\n        });\n        //* sorts the topics according to its time period\n        const result = documents.reduce(function(r, a) {\n          r[a.timePeriod] = r[a.timePeriod] || [];\n          r[a.timePeriod].push(a);\n          return r;\n        }, Object.create(null));\n        commit(\"SET_TOPICS\", result);\n      });\n    },\n\n    //* clear fields\n    clearFields({ commit }) {\n      commit(\"SET_CURRENT_TOPIC\", {\n        title: \"\",\n        introMD: \"\",\n        intro_thumbFile: \"\",\n        intro_thumbURL: \"\",\n        topic_thumbFile: \"\",\n        topic_thumbURL: \"\",\n        disabled: true,\n        timePeriod: null,\n        searchArray: [],\n      });\n    },\n\n    //* topic id gets stored to the state and used in querying the specific topic\n    async editTopic({ state, commit }, topic) {\n      await commit(\"SET_ID\", topic.id);\n      //* identifies the time period of the topic for edit\n      let period = Object.keys(state.topics).filter(\n        (time) => time == topic.timePeriod\n      );\n      let timePeriod = parseInt(period[0]);\n\n      //* sets the list of array under one time period\n      let topicList = state.topics[timePeriod];\n      let index = topicList.findIndex((e) => e.id == topic.id);\n\n      //* identifies the current topic for edit\n      let currentTopic = topicList[index];\n      commit(\"SET_CURRENT_TOPIC\", currentTopic);\n    },\n\n    //* handles submit for edit topic\n    async submitEditTopic({ state, commit, dispatch }) {\n      commit(\"UPDATE_SEARCH_ARRAY\", state.currentTopic.title);\n      await topicsRef\n        .doc(state.topicID)\n        .set(state.currentTopic, { merge: true })\n        .then(() => {\n          console.log(\"Submitted Edited Topic\");\n          alert(\"Successfully edited topic\");\n        });\n      dispatch(\"closeForm\", \"TopicList\", \"/topiclist\");\n    },\n\n    //* clears term id\n    clearTopicId({ commit }) {\n      commit(\"SET_ID\", null);\n    },\n\n    //* handles the close button of a form\n    async closeForm({ dispatch }, name, path) {\n      await dispatch(\"clearTopicId\");\n      router.push({ name: name, path: path });\n      console.log(\"closed topic form\");\n    },\n\n    //* gets all articles for a topic\n    async fetchArticles({ state, commit }) {\n      let articlesList = [];\n\n      await resourcesRef\n        .where(\"topicID\", \"array-contains-any\", [state.topicID])\n        .where(\"parentType\", \"==\", \"topic\")\n        .where(\"resourceType\", \"==\", \"article\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            let articleItem = doc.data();\n\n            //* appends unique article id to each article\n            articlesList.push({\n              ...articleItem,\n              id: doc.id,\n            });\n          });\n          commit(\"SET_ARTICLES\", articlesList);\n        });\n    },\n  },\n\n  mutations: {\n    ...vuexfireMutations,\n    SET_TOPICS: (state, topics) => (state.topics = topics),\n    SET_ID: (state, id) => (state.topicID = id),\n    SET_CURRENT_TOPIC: (state, topic) => (state.currentTopic = topic),\n    SET_ARTICLES: (state, articles) => (state.articles = articles),\n    SET_SEARCH_ARRAY: (state, array) => {\n      //* splits the words into strings and stores in newArray\n      let newArray = array.split(\" \");\n      state.currentTopic.searchArray.push(...newArray);\n    },\n    UPDATE_SEARCH_ARRAY: (state, array) => {\n      let newArray = array.split(\" \");\n      state.currentTopic.searchArray = newArray;\n    },\n    updateField,\n  },\n};\n"]}]}