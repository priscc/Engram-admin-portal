{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js!/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/people.js","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/people.js","mtime":1642802441941},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js","mtime":1640582288508}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCB7IHZ1ZXhmaXJlTXV0YXRpb25zIH0gZnJvbSAidnVleGZpcmUiOwppbXBvcnQgeyBnZXRGaWVsZCwgdXBkYXRlRmllbGQgfSBmcm9tICJ2dWV4LW1hcC1maWVsZHMiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uLy4uL2ZpcmViYXNlL2RiIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIiOwp2YXIgcGVvcGxlUmVmID0gZGIuY29sbGVjdGlvbigicGVvcGxlIik7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBwZW9wbGU6IFtdLAogICAgcGVyc29uSWQ6IG51bGwsCiAgICBjdXJyZW50UGVyc29uOiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBtYWluTUQ6ICIiLAogICAgICB0aHVtYkZpbGU6ICIiLAogICAgICB0aHVtYlVSTDogIiIsCiAgICAgIGRhdGVPZkJpcnRoOiB7CiAgICAgICAgZGF0ZTogIiIsCiAgICAgICAgZXJhOiB0cnVlCiAgICAgIH0sCiAgICAgIGRhdGVPZlBhc3Npbmc6IHsKICAgICAgICBkYXRlOiAiIiwKICAgICAgICBlcmE6IHRydWUKICAgICAgfSwKICAgICAgdG9waWNJRDogW10sCiAgICAgIHNlYXJjaEFycmF5OiBbXQogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0RmllbGQ6IGdldEZpZWxkLAogICAgY3VycmVudFRvcGljUGVvcGxlOiBmdW5jdGlvbiBjdXJyZW50VG9waWNQZW9wbGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBlb3BsZTsKICAgIH0sCiAgICBjdXJyZW50UGVyc29uSWQ6IGZ1bmN0aW9uIGN1cnJlbnRQZXJzb25JZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucGVyc29uSWQ7CiAgICB9LAogICAgY3VycmVudFBlcnNvbjogZnVuY3Rpb24gY3VycmVudFBlcnNvbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudFBlcnNvbjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vKiBzZXRzIHRoZSB0b3BpYyBpZCBmb3IgdGhlIGN1cnJlbnQgcGVyc29uCiAgICBzZXRQZXJzb25Ub3BpY0lkOiBmdW5jdGlvbiBzZXRQZXJzb25Ub3BpY0lkKF9yZWYpIHsKICAgICAgdmFyIHJvb3RTdGF0ZSA9IF9yZWYucm9vdFN0YXRlLAogICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbW1pdCgiU0VUX1BFUlNPTl9UT1BJQ19JRCIsIHJvb3RTdGF0ZS50b3BpY3MudG9waWNJRCk7CiAgICAgIGNvbnNvbGUubG9nKCJzZXQgZXZlbnQgdG9waWNpZCIsIHN0YXRlLmN1cnJlbnRQZXJzb24udG9waWNJRCk7CiAgICB9LAogICAgLy8qIGZldGNoZXMgdGhlIGxpc3Qgb2YgaGlzdCBwZW9wbGUgdW5kZXIgY3VycmVudCB0b3BpYwogICAgZmV0Y2hQZW9wbGU6IGZ1bmN0aW9uIGZldGNoUGVvcGxlKF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJvb3RTdGF0ZSwgY29tbWl0LCBwZW9wbGVMaXN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RTdGF0ZSA9IF9yZWYyLnJvb3RTdGF0ZSwgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgcGVvcGxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcGVvcGxlUmVmLndoZXJlKCJ0b3BpY0lEIiwgImFycmF5LWNvbnRhaW5zLWFueSIsIFtyb290U3RhdGUudG9waWNzLnRvcGljSURdKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChxdWVyeVNuYXBzaG90KSB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICAgIHZhciBwZW9wbGVJdGVtID0gZG9jLmRhdGEoKTsgLy8qIGFwcGVuZHMgdW5pcXVlIGV2ZW50IGlkIHRvIGVhY2ggZXZlbnQKCiAgICAgICAgICAgICAgICAgICAgLy8qIGFwcGVuZHMgdW5pcXVlIGV2ZW50IGlkIHRvIGVhY2ggZXZlbnQKICAgICAgICAgICAgICAgICAgICBwZW9wbGVMaXN0LnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwZW9wbGVJdGVtKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9UT1BJQ19QRU9QTEUiLCBwZW9wbGVMaXN0KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVG9waWMgRmlndXJlczoiLCBwZW9wbGVMaXN0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBoYW5kbGVyIGZvciBhZGQgaGlzdG9yaWNhbCBwZXJzb24KICAgIGFkZFBlcnNvbkZvcm06IGZ1bmN0aW9uIGFkZFBlcnNvbkZvcm0oX3JlZjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgY29tbWl0LCBmaWVsZHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICAgIGZpZWxkcyA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgIG1haW5NRDogIiIsCiAgICAgICAgICAgICAgICAgIHRodW1iRmlsZTogIiIsCiAgICAgICAgICAgICAgICAgIHRodW1iVVJMOiAiIiwKICAgICAgICAgICAgICAgICAgZGF0ZU9mQmlydGg6IHsKICAgICAgICAgICAgICAgICAgICBkYXRlOiAiIiwKICAgICAgICAgICAgICAgICAgICBlcmE6IHRydWUKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZGF0ZU9mUGFzc2luZzogewogICAgICAgICAgICAgICAgICAgIGRhdGU6ICIiLAogICAgICAgICAgICAgICAgICAgIGVyYTogdHJ1ZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB0b3BpY0lEOiBbXSwKICAgICAgICAgICAgICAgICAgc2VhcmNoQXJyYXk6IFtdCiAgICAgICAgICAgICAgICB9OyAvLyBhd2FpdCBkaXNwYXRjaCgnY2xlYXJQZXJzb25JZCcpCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX0NVUlJFTlRfUEVSU09OIiwgZmllbGRzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJjbGVhclBlcnNvbklkIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogIkhpc3RQZW9wbGVHZW5lcmFsIiwKICAgICAgICAgICAgICAgICAgcGF0aDogIi9oaXN0b3JpY2FscGVvcGxlL2dlbmVyYWwiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUcmlnZ2VyZWQgYWRkaW5nIHBlcnNvbiwgcGVyc29uSWQ6Iiwgc3RhdGUucGVyc29uSWQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogaGFuZGxlcyBzdWJtaXQgbmV3IHBlcnNvbiBkYXRhCiAgICBzdWJtaXROZXdQZXJzb246IGZ1bmN0aW9uIHN1Ym1pdE5ld1BlcnNvbihfcmVmNCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoLCBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgic2V0UGVyc29uVG9waWNJZCIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJTRVRfU0VBUkNIX0FSUkFZIiwgc3RhdGUuY3VycmVudFBlcnNvbi5uYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIjYpIHN1Ym1pdHRpbmcgbmV3IGV2ZW50Iiwgc3RhdGUuY3VycmVudFBlcnNvbik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcGVvcGxlUmVmLmFkZChzdGF0ZS5jdXJyZW50UGVyc29uKS50aGVuKGZ1bmN0aW9uIChkb2NSZWYpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIjcpIG5ldyBFdmVudCBpZDogIiwgZG9jUmVmLmlkKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJhcnRpY2xlcy9VUERBVEVfQVJUSUNMRVNfSUQiLCBkb2NSZWYuaWQsIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBkaXNwYXRjaCgiYXJ0aWNsZXMvYWRkQXJ0aWNsZVRvREIiLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJ2aWRlb3MvVVBEQVRFX1ZJREVPU19JRCIsIGRvY1JlZi5pZCwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJ2aWRlb3MvYWRkVmlkZW9Ub0RCIiwgbnVsbCwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZGlzcGF0Y2goImNsb3NlRm9ybSIsICJIaXN0b3JpY2FsUGVvcGxlIiwgIi9oaXN0b3JpY2FscGVvcGxlIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBoYW5kbGVzIHN1Ym1pdCBmb3IgZWRpdCBwZXJzb24KICAgIHN1Ym1pdEVkaXRQZXJzb246IGZ1bmN0aW9uIHN1Ym1pdEVkaXRQZXJzb24oX3JlZjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoLCBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJVUERBVEVfU0VBUkNIX0FSUkFZIiwgc3RhdGUuY3VycmVudFBlcnNvbi5uYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHBlb3BsZVJlZi5kb2Moc3RhdGUucGVyc29uSWQpLnNldChzdGF0ZS5jdXJyZW50UGVyc29uLCB7CiAgICAgICAgICAgICAgICAgIG1lcmdlOiB0cnVlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Ym1pdCBFZGl0IGZvciAiICsgc3RhdGUuY3VycmVudFBlcnNvbi5uYW1lKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgiY2xvc2VGb3JtIiwgIkhpc3RvcmljYWxQZW9wbGUiLCAiL2hpc3RvcmljYWxwZW9wbGUiKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGNsZWFycyB0aGUgY3VycmVudCBwZXJzb24gaWQKICAgIGNsZWFyUGVyc29uSWQ6IGZ1bmN0aW9uIGNsZWFyUGVyc29uSWQoX3JlZjYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiQ0xFQVJfUEVSU09OX0lEIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBoYW5kbGVzIHRoZSBjbG9zZSBidXR0b24gb2YgYSBmb3JtCiAgICBjbG9zZUZvcm06IGZ1bmN0aW9uIGNsb3NlRm9ybShfcmVmNywgbmFtZSwgcGF0aCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY3LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY3LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJjbGVhclBlcnNvbklkIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY2xvc2VkIGZpZ3VyZSBmb3JtIC0gc2hvdWxkIGJlIG51bGwiLCBzdGF0ZS5ldmVudElkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIHNldHMgY3VycmVudCBldmVudCBmb3IgZWRpdAogICAgZWRpdFBlcnNvbjogZnVuY3Rpb24gZWRpdFBlcnNvbihfcmVmOCwgcGVyc29uKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBpbmRleCwgY3VycmVudFBlcnNvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZSwgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1BFUlNPTl9JRCIsIHBlcnNvbi5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIC8vKiBzZXRzIHRoZSBpbmRleCBvZiB0aGUgcGVyc29uIGZvciBlZGl0CiAgICAgICAgICAgICAgICBpbmRleCA9IHN0YXRlLnBlb3BsZS5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT0gcGVyc29uLmlkOwogICAgICAgICAgICAgICAgfSk7IC8vKiBpZGVudGlmaWVzIHRoZSBjdXJyZW50IHBlcnNvbiBmb3IgZWRpdAoKICAgICAgICAgICAgICAgIGN1cnJlbnRQZXJzb24gPSBzdGF0ZS5wZW9wbGVbaW5kZXhdOwogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfQ1VSUkVOVF9QRVJTT04iLCBjdXJyZW50UGVyc29uKTsgLy8gYXdhaXQgZGlzcGF0Y2goImZldGNoUGVyc29uUmVzb3VyY2VzIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBkZWxldGVzIHBlcnNvbiBmcm9tIHRoZSBkYXRhYmFzZQogICAgZGVsZXRlUGVyc29uOiBmdW5jdGlvbiBkZWxldGVQZXJzb24oX3JlZjksIHBlcnNvbikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY5LmNvbW1pdCwgc3RhdGUgPSBfcmVmOS5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmOS5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlNFVF9QRVJTT05fSUQiLCBwZXJzb24uaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBwZW9wbGVSZWYuZG9jKHN0YXRlLnBlcnNvbklkKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3NmdWxseSBkZWxldGVkIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goImZldGNoUGVvcGxlIik7CiAgICAgICAgICAgICAgICB9LCAyMDApOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogZHluYW1pYyBzYXZlIGJ1dHRvbgogICAgaGFuZGxlU2F2ZTogZnVuY3Rpb24gaGFuZGxlU2F2ZShfcmVmMTApIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjEwLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMTAuZGlzcGF0Y2g7CgogICAgICBpZiAoc3RhdGUucGVyc29uSWQgIT0gbnVsbCkgewogICAgICAgIC8vKiBoYW5kbGVzIHRoZSBzdWJtaXQgYXMgYW4gZWRpdCBpZiBlZGl0aW5nIGEgcGVyc29uCiAgICAgICAgZGlzcGF0Y2goInN1Ym1pdEVkaXRQZXJzb24iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyogaGFuZGxlcyB0aGUgc3VibWl0IGFzIGEgbmV3IGV2ZW50IGlmIGFkZGluZyBhIHBlcnNvbgogICAgICAgIGRpc3BhdGNoKCJzdWJtaXROZXdQZXJzb24iKTsKICAgICAgfQogICAgfQogIH0sCiAgbXV0YXRpb25zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZ1ZXhmaXJlTXV0YXRpb25zKSwge30sIHsKICAgIHVwZGF0ZUZpZWxkOiB1cGRhdGVGaWVsZCwKICAgIFNFVF9UT1BJQ19QRU9QTEU6IGZ1bmN0aW9uIFNFVF9UT1BJQ19QRU9QTEUoc3RhdGUsIHBlb3BsZSkgewogICAgICByZXR1cm4gc3RhdGUucGVvcGxlID0gcGVvcGxlOwogICAgfSwKICAgIFNFVF9DVVJSRU5UX1BFUlNPTjogZnVuY3Rpb24gU0VUX0NVUlJFTlRfUEVSU09OKHN0YXRlLCBwZXJzb24pIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRQZXJzb24gPSBwZXJzb247CiAgICB9LAogICAgQ0xFQVJfUEVSU09OX0lEOiBmdW5jdGlvbiBDTEVBUl9QRVJTT05fSUQoc3RhdGUsIGlkKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wZXJzb25JZCA9IGlkOwogICAgfSwKICAgIFNFVF9QRVJTT05fVE9QSUNfSUQ6IGZ1bmN0aW9uIFNFVF9QRVJTT05fVE9QSUNfSUQoc3RhdGUsIHRvcGljSUQpIHsKICAgICAgc3RhdGUuY3VycmVudFBlcnNvbi50b3BpY0lELnB1c2godG9waWNJRCk7CiAgICB9LAogICAgU0VUX1BFUlNPTl9JRDogZnVuY3Rpb24gU0VUX1BFUlNPTl9JRChzdGF0ZSwgcGVyc29uSWQpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBlcnNvbklkID0gcGVyc29uSWQ7CiAgICB9LAogICAgU0VUX1NFQVJDSF9BUlJBWTogZnVuY3Rpb24gU0VUX1NFQVJDSF9BUlJBWShzdGF0ZSwgYXJyYXkpIHsKICAgICAgdmFyIF9zdGF0ZSRjdXJyZW50UGVyc29uJDsKCiAgICAgIC8vKiBzcGxpdHMgdGhlIHdvcmRzIGludG8gc3RyaW5ncyBhbmQgc3RvcmVzIGluIG5ld0FycmF5CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5LnNwbGl0KCIgIik7CgogICAgICAoX3N0YXRlJGN1cnJlbnRQZXJzb24kID0gc3RhdGUuY3VycmVudFBlcnNvbi5zZWFyY2hBcnJheSkucHVzaC5hcHBseShfc3RhdGUkY3VycmVudFBlcnNvbiQsIF90b0NvbnN1bWFibGVBcnJheShuZXdBcnJheSkpOwogICAgfSwKICAgIFVQREFURV9TRUFSQ0hfQVJSQVk6IGZ1bmN0aW9uIFVQREFURV9TRUFSQ0hfQVJSQVkoc3RhdGUsIGFycmF5KSB7CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5LnNwbGl0KCIgIik7CiAgICAgIHN0YXRlLmN1cnJlbnRQZXJzb24uc2VhcmNoQXJyYXkgPSBuZXdBcnJheTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/people.js"],"names":["vuexfireMutations","getField","updateField","db","router","peopleRef","collection","namespaced","state","people","personId","currentPerson","name","mainMD","thumbFile","thumbURL","dateOfBirth","date","era","dateOfPassing","topicID","searchArray","getters","currentTopicPeople","currentPersonId","actions","setPersonTopicId","rootState","commit","topics","console","log","fetchPeople","peopleList","where","get","then","querySnapshot","docs","map","doc","peopleItem","data","push","id","addPersonForm","dispatch","fields","path","submitNewPerson","add","docRef","root","submitEditPerson","set","merge","clearPersonId","closeForm","eventId","editPerson","person","index","findIndex","e","deletePerson","delete","setTimeout","handleSave","mutations","SET_TOPIC_PEOPLE","SET_CURRENT_PERSON","CLEAR_PERSON_ID","SET_PERSON_TOPIC_ID","SET_PERSON_ID","SET_SEARCH_ARRAY","array","newArray","split","UPDATE_SEARCH_ARRAY"],"mappings":"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","sourcesContent":["import { vuexfireMutations } from \"vuexfire\";\nimport { getField, updateField } from \"vuex-map-fields\";\nimport { db } from \"../../firebase/db\";\nimport router from \"../../router\";\n\nconst peopleRef = db.collection(\"people\");\n\nexport default {\n  namespaced: true,\n\n  state: {\n    people: [],\n    personId: null,\n    currentPerson: {\n      name: \"\",\n      mainMD: \"\",\n      thumbFile: \"\",\n      thumbURL: \"\",\n      dateOfBirth: {\n        date: \"\",\n        era: true,\n      },\n      dateOfPassing: {\n        date: \"\",\n        era: true,\n      },\n      topicID: [],\n      searchArray: [],\n    },\n  },\n\n  getters: {\n    getField,\n    currentTopicPeople: (state) => state.people,\n    currentPersonId: (state) => state.personId,\n    currentPerson: (state) => state.currentPerson,\n  },\n\n  actions: {\n    //* sets the topic id for the current person\n    setPersonTopicId({ rootState, state, commit }) {\n      commit(\"SET_PERSON_TOPIC_ID\", rootState.topics.topicID);\n      console.log(\"set event topicid\", state.currentPerson.topicID);\n    },\n\n    //* fetches the list of hist people under current topic\n    async fetchPeople({ rootState, commit }) {\n      let peopleList = [];\n      await peopleRef\n        .where(\"topicID\", \"array-contains-any\", [rootState.topics.topicID])\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            let peopleItem = doc.data();\n\n            //* appends unique event id to each event\n            peopleList.push({\n              ...peopleItem,\n              id: doc.id,\n            });\n          });\n\n          commit(\"SET_TOPIC_PEOPLE\", peopleList);\n        });\n      console.log(\"Topic Figures:\", peopleList);\n    },\n\n    //* handler for add historical person\n    async addPersonForm({ state, dispatch, commit }) {\n      const fields = {\n        name: \"\",\n        mainMD: \"\",\n        thumbFile: \"\",\n        thumbURL: \"\",\n        dateOfBirth: {\n          date: \"\",\n          era: true,\n        },\n        dateOfPassing: {\n          date: \"\",\n          era: true,\n        },\n        topicID: [],\n        searchArray: [],\n      };\n      // await dispatch('clearPersonId')\n      await commit(\"SET_CURRENT_PERSON\", fields);\n      await dispatch(\"clearPersonId\");\n      router.push({\n        name: \"HistPeopleGeneral\",\n        path: \"/historicalpeople/general\",\n      });\n      console.log(\"Triggered adding person, personId:\", state.personId);\n    },\n\n    //* handles submit new person data\n    async submitNewPerson({ state, dispatch, commit }) {\n      await dispatch(\"setPersonTopicId\");\n      await commit(\"SET_SEARCH_ARRAY\", state.currentPerson.name);\n      console.log(\"6) submitting new event\", state.currentPerson);\n      await peopleRef.add(state.currentPerson).then(function(docRef) {\n        console.log(\"7) new Event id: \", docRef.id);\n        commit(\"articles/UPDATE_ARTICLES_ID\", docRef.id, { root: true });\n        dispatch(\"articles/addArticleToDB\", null, { root: true });\n        commit(\"videos/UPDATE_VIDEOS_ID\", docRef.id, { root: true });\n        dispatch(\"videos/addVideoToDB\", null, { root: true });\n      });\n      dispatch(\"closeForm\", \"HistoricalPeople\", \"/historicalpeople\");\n    },\n\n    //* handles submit for edit person\n    async submitEditPerson({ state, dispatch, commit }) {\n      await commit(\"UPDATE_SEARCH_ARRAY\", state.currentPerson.name);\n      await peopleRef\n        .doc(state.personId)\n        .set(state.currentPerson, { merge: true })\n        .then(() => {\n          console.log(\"Submit Edit for \" + state.currentPerson.name);\n        });\n      dispatch(\"closeForm\", \"HistoricalPeople\", \"/historicalpeople\");\n    },\n\n    //* clears the current person id\n    async clearPersonId({ commit }) {\n      await commit(\"CLEAR_PERSON_ID\", null);\n    },\n\n    //* handles the close button of a form\n    async closeForm({ state, dispatch }, name, path) {\n      await dispatch(\"clearPersonId\");\n      router.push({ name: name, path: path });\n      console.log(\"closed figure form - should be null\", state.eventId);\n    },\n\n    //* sets current event for edit\n    async editPerson({ state, commit }, person) {\n      await commit(\"SET_PERSON_ID\", person.id);\n\n      //* sets the index of the person for edit\n      let index = state.people.findIndex((e) => e.id == person.id);\n\n      //* identifies the current person for edit\n      let currentPerson = state.people[index];\n\n      commit(\"SET_CURRENT_PERSON\", currentPerson);\n\n      // await dispatch(\"fetchPersonResources\");\n    },\n\n    //* deletes person from the database\n    async deletePerson({ commit, state, dispatch }, person) {\n      await commit(\"SET_PERSON_ID\", person.id);\n      peopleRef\n        .doc(state.personId)\n        .delete()\n        .then(() => {\n          console.log(\"Successfully deleted\");\n        });\n      setTimeout(() => dispatch(\"fetchPeople\"), 200);\n    },\n\n    //* dynamic save button\n    handleSave({ state, dispatch }) {\n      if (state.personId != null) {\n        //* handles the submit as an edit if editing a person\n        dispatch(\"submitEditPerson\");\n      } else {\n        //* handles the submit as a new event if adding a person\n        dispatch(\"submitNewPerson\");\n      }\n    },\n  },\n\n  mutations: {\n    ...vuexfireMutations,\n    updateField,\n    SET_TOPIC_PEOPLE: (state, people) => (state.people = people),\n    SET_CURRENT_PERSON: (state, person) => (state.currentPerson = person),\n    CLEAR_PERSON_ID: (state, id) => (state.personId = id),\n    SET_PERSON_TOPIC_ID: (state, topicID) => {\n      state.currentPerson.topicID.push(topicID);\n    },\n    SET_PERSON_ID: (state, personId) => (state.personId = personId),\n    SET_SEARCH_ARRAY: (state, array) => {\n      //* splits the words into strings and stores in newArray\n      let newArray = array.split(\" \");\n      state.currentPerson.searchArray.push(...newArray);\n    },\n    UPDATE_SEARCH_ARRAY: (state, array) => {\n      let newArray = array.split(\" \");\n      state.currentPerson.searchArray = newArray;\n    },\n  },\n};\n"]}]}