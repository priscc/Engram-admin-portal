{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js!/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/people.js","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/people.js","mtime":1639249975116},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js","mtime":1640582288508}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCB7IHZ1ZXhmaXJlTXV0YXRpb25zIH0gZnJvbSAidnVleGZpcmUiOwppbXBvcnQgeyBnZXRGaWVsZCwgdXBkYXRlRmllbGQgfSBmcm9tICJ2dWV4LW1hcC1maWVsZHMiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uLy4uL2ZpcmViYXNlL2RiIjsKdmFyIHBlb3BsZVJlZiA9IGRiLmNvbGxlY3Rpb24oInBlb3BsZSIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgcGVvcGxlOiBbXSwKICAgIHBlcnNvbklkOiBudWxsLAogICAgY3VycmVudFBlcnNvbjogewogICAgICBuYW1lOiAiIiwKICAgICAgbWFpbk1EOiAiIiwKICAgICAgdGh1bWJGaWxlOiAiIiwKICAgICAgdGh1bWJVUkw6ICIiLAogICAgICBkYXRlT2ZCaXJ0aDogewogICAgICAgIGRhdGU6ICIiLAogICAgICAgIGVyYTogdHJ1ZQogICAgICB9LAogICAgICBkYXRlT2ZQYXNzaW5nOiB7CiAgICAgICAgZGF0ZTogIiIsCiAgICAgICAgZXJhOiB0cnVlCiAgICAgIH0sCiAgICAgIHRvcGljSUQ6IFtdLAogICAgICBzZWFyY2hBcnJheTogW10KICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldEZpZWxkOiBnZXRGaWVsZCwKICAgIGN1cnJlbnRUb3BpY1Blb3BsZTogZnVuY3Rpb24gY3VycmVudFRvcGljUGVvcGxlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wZW9wbGU7CiAgICB9LAogICAgY3VycmVudFBlcnNvbklkOiBmdW5jdGlvbiBjdXJyZW50UGVyc29uSWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBlcnNvbklkOwogICAgfSwKICAgIGN1cnJlbnRQZXJzb246IGZ1bmN0aW9uIGN1cnJlbnRQZXJzb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRQZXJzb247CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyogZmV0Y2hlcyB0aGUgbGlzdCBvZiBoaXN0IHBlb3BsZSB1bmRlciBjdXJyZW50IHRvcGljCiAgICBmZXRjaFBlb3BsZTogZnVuY3Rpb24gZmV0Y2hQZW9wbGUoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByb290U3RhdGUsIGNvbW1pdCwgc3RhdGUsIHBlb3BsZUxpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdFN0YXRlID0gX3JlZi5yb290U3RhdGUsIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICAgICAgICAgICAgICBwZW9wbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBwZW9wbGVSZWYud2hlcmUoInRvcGljSUQiLCAiYXJyYXktY29udGFpbnMtYW55IiwgW3Jvb3RTdGF0ZS50b3BpY3MudG9waWNJRF0pLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBlb3BsZUl0ZW0gPSBkb2MuZGF0YSgpOyAvLyogYXBwZW5kcyB1bmlxdWUgZXZlbnQgaWQgdG8gZWFjaCBldmVudAoKICAgICAgICAgICAgICAgICAgICAvLyogYXBwZW5kcyB1bmlxdWUgZXZlbnQgaWQgdG8gZWFjaCBldmVudAogICAgICAgICAgICAgICAgICAgIHBlb3BsZUxpc3QucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBlb3BsZUl0ZW0pLCB7fSwgewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGRvYy5pZAogICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX1RPUElDX1BFT1BMRSIsIHBlb3BsZUxpc3QpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5wZW9wbGUpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyb290U3RhdGUudG9waWNzLnRvcGljSUQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogaGFuZGxlciBmb3IgYWRkIGhpc3RvcmljYWwgcGVyc29uCiAgICBzZXRQZXJzb25Gb3JtOiBmdW5jdGlvbiBzZXRQZXJzb25Gb3JtKF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBmaWVsZHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgICAgICAgICAgICAgIGZpZWxkcyA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgIG1haW5NRDogIiIsCiAgICAgICAgICAgICAgICAgIHRodW1iRmlsZTogIiIsCiAgICAgICAgICAgICAgICAgIHRodW1iVVJMOiAiIiwKICAgICAgICAgICAgICAgICAgZGF0ZU9mQmlydGg6IHsKICAgICAgICAgICAgICAgICAgICBkYXRlOiAiIiwKICAgICAgICAgICAgICAgICAgICBlcmE6IHRydWUKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZGF0ZU9mUGFzc2luZzogewogICAgICAgICAgICAgICAgICAgIGRhdGU6ICIiLAogICAgICAgICAgICAgICAgICAgIGVyYTogdHJ1ZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB0b3BpY0lEOiBbXSwKICAgICAgICAgICAgICAgICAgc2VhcmNoQXJyYXk6IFtdCiAgICAgICAgICAgICAgICB9OyAvLyBhd2FpdCBkaXNwYXRjaCgnY2xlYXJQZXJzb25JZCcpCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX0NVUlJFTlRfUEVSU09OIiwgZmllbGRzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUucGVyc29uSWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogY2xlYXJzIHRoZSBjdXJyZW50IHBlcnNvbiBpZAogICAgY2xlYXJQZXJzb25JZDogZnVuY3Rpb24gY2xlYXJQZXJzb25JZChfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJDTEVBUl9QRVJTT05fSUQiLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGhhbmRsZXMgc3VibWl0IG5ldyBwZXJzb24gZGF0YQogICAgc3VibWl0TmV3UGVyc29uOiBmdW5jdGlvbiBzdWJtaXROZXdQZXJzb24oX3JlZjQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBzdGF0ZSwgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY0LmRpc3BhdGNoLCBzdGF0ZSA9IF9yZWY0LnN0YXRlLCBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goInNldFBlcnNvblRvcGljSWQiKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1NFQVJDSF9BUlJBWSIsIHN0YXRlLmN1cnJlbnRQZXJzb24ubmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdGF0ZSIsIHN0YXRlLmN1cnJlbnRQZXJzb24pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHBlb3BsZVJlZi5hZGQoc3RhdGUuY3VycmVudFBlcnNvbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJQZXJzb24gQWRkZWQiKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogc2V0cyB0aGUgdG9waWMgaWQgZm9yIHRoZSBjdXJyZW50IHBlcnNvbgogICAgc2V0UGVyc29uVG9waWNJZDogZnVuY3Rpb24gc2V0UGVyc29uVG9waWNJZChfcmVmNSkgewogICAgICB2YXIgcm9vdFN0YXRlID0gX3JlZjUucm9vdFN0YXRlLAogICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgY29tbWl0KCJTRVRfUEVSU09OX1RPUElDX0lEIiwgcm9vdFN0YXRlLnRvcGljcy50b3BpY0lEKTsKICAgICAgY29uc29sZS5sb2coc3RhdGUuY3VycmVudFBlcnNvbi50b3BpY0lEKTsKICAgIH0sCiAgICAvLyogc2V0cyBjdXJyZW50IGV2ZW50IGZvciBlZGl0CiAgICBlZGl0UGVyc29uOiBmdW5jdGlvbiBlZGl0UGVyc29uKF9yZWY2LCBwZXJzb24pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGRpc3BhdGNoLCBpbmRleCwgY3VycmVudFBlcnNvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZSwgY29tbWl0ID0gX3JlZjYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1BFUlNPTl9JRCIsIHBlcnNvbi5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLnBlcnNvbklkKTsgLy8qIHNldHMgdGhlIGluZGV4IG9mIHRoZSBwZXJzb24gZm9yIGVkaXQKCiAgICAgICAgICAgICAgICBpbmRleCA9IHN0YXRlLnBlb3BsZS5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT0gcGVyc29uLmlkOwogICAgICAgICAgICAgICAgfSk7IC8vKiBpZGVudGlmaWVzIHRoZSBjdXJyZW50IHBlcnNvbiBmb3IgZWRpdAoKICAgICAgICAgICAgICAgIGN1cnJlbnRQZXJzb24gPSBzdGF0ZS5wZW9wbGVbaW5kZXhdOwogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfQ1VSUkVOVF9QRVJTT04iLCBjdXJyZW50UGVyc29uKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRQZXJzb24pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgiZmV0Y2hQZXJzb25SZXNvdXJjZXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBoYW5kbGVzIHN1Ym1pdCBmb3IgZWRpdCBwZXJzb24KICAgIHN1Ym1pdEVkaXRQZXJzb246IGZ1bmN0aW9uIHN1Ym1pdEVkaXRQZXJzb24oX3JlZjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGUsIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlVQREFURV9TRUFSQ0hfQVJSQVkiLCBzdGF0ZS5jdXJyZW50UGVyc29uLm5hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcGVvcGxlUmVmLmRvYyhzdGF0ZS5wZXJzb25JZCkuc2V0KHN0YXRlLmN1cnJlbnRQZXJzb24sIHsKICAgICAgICAgICAgICAgICAgbWVyZ2U6IHRydWUKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU3VibWl0IEVkaXQgZm9yICIgKyBzdGF0ZS5jdXJyZW50UGVyc29uLm5hbWUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBkZWxldGVzIHBlcnNvbiBmcm9tIHRoZSBkYXRhYmFzZQogICAgZGVsZXRlUGVyc29uOiBmdW5jdGlvbiBkZWxldGVQZXJzb24oX3JlZjgsIHBlcnNvbikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY4LmNvbW1pdCwgc3RhdGUgPSBfcmVmOC5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoIlNFVF9QRVJTT05fSUQiLCBwZXJzb24uaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBwZW9wbGVSZWYuZG9jKHN0YXRlLnBlcnNvbklkKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3NmdWxseSBkZWxldGVkIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goImZldGNoUGVvcGxlIik7CiAgICAgICAgICAgICAgICB9LCAyMDApOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogZHluYW1pYyBzYXZlIGJ1dHRvbgogICAgaGFuZGxlU2F2ZTogZnVuY3Rpb24gaGFuZGxlU2F2ZShfcmVmOSkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmOS5zdGF0ZSwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjkuZGlzcGF0Y2g7CgogICAgICBpZiAoc3RhdGUucGVyc29uSWQgIT0gbnVsbCkgewogICAgICAgIC8vKiBoYW5kbGVzIHRoZSBzdWJtaXQgYXMgYW4gZWRpdCBpZiBlZGl0aW5nIGEgcGVyc29uCiAgICAgICAgZGlzcGF0Y2goInN1Ym1pdEVkaXRQZXJzb24iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyogaGFuZGxlcyB0aGUgc3VibWl0IGFzIGEgbmV3IGV2ZW50IGlmIGFkZGluZyBhIHBlcnNvbgogICAgICAgIGRpc3BhdGNoKCJzdWJtaXROZXdQZXJzb24iKTsKICAgICAgfQogICAgfQogIH0sCiAgbXV0YXRpb25zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZ1ZXhmaXJlTXV0YXRpb25zKSwge30sIHsKICAgIHVwZGF0ZUZpZWxkOiB1cGRhdGVGaWVsZCwKICAgIFNFVF9UT1BJQ19QRU9QTEU6IGZ1bmN0aW9uIFNFVF9UT1BJQ19QRU9QTEUoc3RhdGUsIHBlb3BsZSkgewogICAgICByZXR1cm4gc3RhdGUucGVvcGxlID0gcGVvcGxlOwogICAgfSwKICAgIFNFVF9DVVJSRU5UX1BFUlNPTjogZnVuY3Rpb24gU0VUX0NVUlJFTlRfUEVSU09OKHN0YXRlLCBwZXJzb24pIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRQZXJzb24gPSBwZXJzb247CiAgICB9LAogICAgQ0xFQVJfUEVSU09OX0lEOiBmdW5jdGlvbiBDTEVBUl9QRVJTT05fSUQoc3RhdGUsIGlkKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wZXJzb25JZCA9IGlkOwogICAgfSwKICAgIFNFVF9QRVJTT05fVE9QSUNfSUQ6IGZ1bmN0aW9uIFNFVF9QRVJTT05fVE9QSUNfSUQoc3RhdGUsIHRvcGljSUQpIHsKICAgICAgc3RhdGUuY3VycmVudFBlcnNvbi50b3BpY0lELnB1c2godG9waWNJRCk7CiAgICB9LAogICAgU0VUX1BFUlNPTl9JRDogZnVuY3Rpb24gU0VUX1BFUlNPTl9JRChzdGF0ZSwgcGVyc29uSWQpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBlcnNvbklkID0gcGVyc29uSWQ7CiAgICB9LAogICAgU0VUX1NFQVJDSF9BUlJBWTogZnVuY3Rpb24gU0VUX1NFQVJDSF9BUlJBWShzdGF0ZSwgYXJyYXkpIHsKICAgICAgdmFyIF9zdGF0ZSRjdXJyZW50UGVyc29uJDsKCiAgICAgIC8vKiBzcGxpdHMgdGhlIHdvcmRzIGludG8gc3RyaW5ncyBhbmQgc3RvcmVzIGluIG5ld0FycmF5CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5LnNwbGl0KCIgIik7CgogICAgICAoX3N0YXRlJGN1cnJlbnRQZXJzb24kID0gc3RhdGUuY3VycmVudFBlcnNvbi5zZWFyY2hBcnJheSkucHVzaC5hcHBseShfc3RhdGUkY3VycmVudFBlcnNvbiQsIF90b0NvbnN1bWFibGVBcnJheShuZXdBcnJheSkpOwogICAgfSwKICAgIFVQREFURV9TRUFSQ0hfQVJSQVk6IGZ1bmN0aW9uIFVQREFURV9TRUFSQ0hfQVJSQVkoc3RhdGUsIGFycmF5KSB7CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5LnNwbGl0KCIgIik7CiAgICAgIHN0YXRlLmN1cnJlbnRQZXJzb24uc2VhcmNoQXJyYXkgPSBuZXdBcnJheTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/people.js"],"names":["vuexfireMutations","getField","updateField","db","peopleRef","collection","namespaced","state","people","personId","currentPerson","name","mainMD","thumbFile","thumbURL","dateOfBirth","date","era","dateOfPassing","topicID","searchArray","getters","currentTopicPeople","currentPersonId","actions","fetchPeople","rootState","commit","peopleList","where","topics","get","then","querySnapshot","docs","map","doc","peopleItem","data","push","id","console","log","setPersonForm","fields","clearPersonId","submitNewPerson","dispatch","add","setPersonTopicId","editPerson","person","index","findIndex","e","submitEditPerson","set","merge","deletePerson","delete","setTimeout","handleSave","mutations","SET_TOPIC_PEOPLE","SET_CURRENT_PERSON","CLEAR_PERSON_ID","SET_PERSON_TOPIC_ID","SET_PERSON_ID","SET_SEARCH_ARRAY","array","newArray","split","UPDATE_SEARCH_ARRAY"],"mappings":"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","sourcesContent":["import { vuexfireMutations } from \"vuexfire\";\nimport { getField, updateField } from \"vuex-map-fields\";\nimport { db } from \"../../firebase/db\";\n\nconst peopleRef = db.collection(\"people\");\n\nexport default {\n  namespaced: true,\n\n  state: {\n    people: [],\n    personId: null,\n    currentPerson: {\n      name: \"\",\n      mainMD: \"\",\n      thumbFile: \"\",\n      thumbURL: \"\",\n      dateOfBirth: {\n        date: \"\",\n        era: true,\n      },\n      dateOfPassing: {\n        date: \"\",\n        era: true,\n      },\n      topicID: [],\n      searchArray: [],\n    },\n  },\n\n  getters: {\n    getField,\n    currentTopicPeople: (state) => state.people,\n    currentPersonId: (state) => state.personId,\n    currentPerson: (state) => state.currentPerson,\n  },\n\n  actions: {\n    //* fetches the list of hist people under current topic\n    async fetchPeople({ rootState, commit, state }) {\n      let peopleList = [];\n      await peopleRef\n        .where(\"topicID\", \"array-contains-any\", [rootState.topics.topicID])\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            let peopleItem = doc.data();\n\n            //* appends unique event id to each event\n            peopleList.push({\n              ...peopleItem,\n              id: doc.id,\n            });\n          });\n\n          commit(\"SET_TOPIC_PEOPLE\", peopleList);\n          console.log(state.people);\n          console.log(rootState.topics.topicID);\n        });\n    },\n\n    //* handler for add historical person\n    async setPersonForm({ commit, state }) {\n      const fields = {\n        name: \"\",\n        mainMD: \"\",\n        thumbFile: \"\",\n        thumbURL: \"\",\n        dateOfBirth: {\n          date: \"\",\n          era: true,\n        },\n        dateOfPassing: {\n          date: \"\",\n          era: true,\n        },\n        topicID: [],\n        searchArray: [],\n      };\n      // await dispatch('clearPersonId')\n      await commit(\"SET_CURRENT_PERSON\", fields);\n      console.log(state.personId);\n    },\n\n    //* clears the current person id\n    async clearPersonId({ commit }) {\n      await commit(\"CLEAR_PERSON_ID\", null);\n    },\n\n    //* handles submit new person data\n    async submitNewPerson({ dispatch, state, commit }) {\n      await dispatch(\"setPersonTopicId\");\n      await commit(\"SET_SEARCH_ARRAY\", state.currentPerson.name);\n      console.log(\"state\", state.currentPerson);\n      await peopleRef.add(state.currentPerson).then(() => {\n        console.log(\"Person Added\");\n      });\n    },\n\n    //* sets the topic id for the current person\n    setPersonTopicId({ rootState, state, commit }) {\n      commit(\"SET_PERSON_TOPIC_ID\", rootState.topics.topicID);\n      console.log(state.currentPerson.topicID);\n    },\n\n    //* sets current event for edit\n    async editPerson({ state, commit, dispatch }, person) {\n      await commit(\"SET_PERSON_ID\", person.id);\n      console.log(state.personId);\n\n      //* sets the index of the person for edit\n      let index = state.people.findIndex((e) => e.id == person.id);\n\n      //* identifies the current person for edit\n      let currentPerson = state.people[index];\n\n      commit(\"SET_CURRENT_PERSON\", currentPerson);\n      console.log(state.currentPerson);\n\n      await dispatch(\"fetchPersonResources\");\n    },\n\n    //* handles submit for edit person\n    async submitEditPerson({ state, commit }) {\n      await commit(\"UPDATE_SEARCH_ARRAY\", state.currentPerson.name);\n      await peopleRef\n        .doc(state.personId)\n        .set(state.currentPerson, { merge: true })\n        .then(() => {\n          console.log(\"Submit Edit for \" + state.currentPerson.name);\n        });\n    },\n\n    //* deletes person from the database\n    async deletePerson({ commit, state, dispatch }, person) {\n      await commit(\"SET_PERSON_ID\", person.id);\n      peopleRef\n        .doc(state.personId)\n        .delete()\n        .then(() => {\n          console.log(\"Successfully deleted\");\n        });\n      setTimeout(() => dispatch(\"fetchPeople\"), 200);\n    },\n\n    //* dynamic save button\n    handleSave({ state, dispatch }) {\n      if (state.personId != null) {\n        //* handles the submit as an edit if editing a person\n        dispatch(\"submitEditPerson\");\n      } else {\n        //* handles the submit as a new event if adding a person\n        dispatch(\"submitNewPerson\");\n      }\n    },\n  },\n\n  mutations: {\n    ...vuexfireMutations,\n    updateField,\n    SET_TOPIC_PEOPLE: (state, people) => (state.people = people),\n    SET_CURRENT_PERSON: (state, person) => (state.currentPerson = person),\n    CLEAR_PERSON_ID: (state, id) => (state.personId = id),\n    SET_PERSON_TOPIC_ID: (state, topicID) => {\n      state.currentPerson.topicID.push(topicID);\n    },\n    SET_PERSON_ID: (state, personId) => (state.personId = personId),\n    SET_SEARCH_ARRAY: (state, array) => {\n      //* splits the words into strings and stores in newArray\n      let newArray = array.split(\" \");\n      state.currentPerson.searchArray.push(...newArray);\n    },\n    UPDATE_SEARCH_ARRAY: (state, array) => {\n      let newArray = array.split(\" \");\n      state.currentPerson.searchArray = newArray;\n    },\n  },\n};\n"]}]}