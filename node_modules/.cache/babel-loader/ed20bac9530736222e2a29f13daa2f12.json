{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js!/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/works.js","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/works.js","mtime":1639249972232},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/eslint-loader/index.js","mtime":1640582288508}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW5ncmFtL0RvY3VtZW50cy9XZWJfYXBwcy9hcC1zdHVkeS1iaXRlcy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0IHsgdnVleGZpcmVNdXRhdGlvbnMgfSBmcm9tICJ2dWV4ZmlyZSI7CmltcG9ydCB7IGdldEZpZWxkLCB1cGRhdGVGaWVsZCB9IGZyb20gInZ1ZXgtbWFwLWZpZWxkcyI7CmltcG9ydCB7IGRiIH0gZnJvbSAiLi4vLi4vZmlyZWJhc2UvZGIiOwp2YXIgd29ya3NSZWYgPSBkYi5jb2xsZWN0aW9uKCJ3b3JrcyIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgd29ya3M6IFtdLAogICAgd29ya0lkOiBudWxsLAogICAgd29ya0luZGV4OiBudWxsLAogICAgY3VycmVudFdvcms6IHsKICAgICAgdGl0bGU6ICIiLAogICAgICBjYXB0aW9uOiAiIiwKICAgICAgdGh1bWJVUkw6ICIiLAogICAgICB0aHVtYkZpbGU6ICIiLAogICAgICB0b3BpY0lEOiBbXSwKICAgICAgc2VhcmNoQXJyYXk6IFtdCiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRGaWVsZDogZ2V0RmllbGQsCiAgICBjdXJyZW50VG9waWNXb3JrczogZnVuY3Rpb24gY3VycmVudFRvcGljV29ya3Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLndvcmtzOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8qIGZldGNoZXMgbGlzdCBvZiB3b3JrcyBmcm9tIGZpcmVzdG9yZQogICAgZmV0Y2hXb3JrczogZnVuY3Rpb24gZmV0Y2hXb3JrcyhfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByb290U3RhdGUsIGNvbW1pdCwgc3RhdGUsIHdvcmtMaXN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290U3RhdGUgPSBfcmVmLnJvb3RTdGF0ZSwgY29tbWl0ID0gX3JlZi5jb21taXQsIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgICAgICAgICAgICAgIHdvcmtMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gd29ya3NSZWYud2hlcmUoInRvcGljSUQiLCAiYXJyYXktY29udGFpbnMtYW55IiwgW3Jvb3RTdGF0ZS50b3BpY3MudG9waWNJRF0pLmdldCgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShxdWVyeVNuYXBzaG90KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3b3JrSXRlbSA9IGRvYy5kYXRhKCk7IC8vKiBhcHBlbmRzIHVuaXF1ZSB3b3JrIGlkIHRvIGVhY2ggd29yawoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8qIGFwcGVuZHMgdW5pcXVlIHdvcmsgaWQgdG8gZWFjaCB3b3JrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtMaXN0LnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB3b3JrSXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRvYy5pZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1RPUElDX1dPUktTIiwgd29ya0xpc3QpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUud29ya3MpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogY2xlYXJzIHdvcmsgaWQKICAgIGNsZWFyV29ya0lkOiBmdW5jdGlvbiBjbGVhcldvcmtJZChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoIlNFVF9XT1JLX0lEIiwgbnVsbCk7CiAgICB9LAogICAgLy8qIGNsZWFycyB3b3JrIGZpZWxkcwogICAgY2xlYXJXb3JrRmllbGRzOiBmdW5jdGlvbiBjbGVhcldvcmtGaWVsZHMoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgY29tbWl0KCJTRVRfQ1VSUkVOVF9XT1JLIiwgewogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICBjYXB0aW9uOiAiIiwKICAgICAgICB0aHVtYlVSTDogIiIsCiAgICAgICAgdGh1bWJGaWxlOiAiIiwKICAgICAgICB0b3BpY0lEOiBbXSwKICAgICAgICBzZWFyY2hBcnJheTogW10KICAgICAgfSk7CiAgICB9LAogICAgLy8qIGhhbmRsZXMgc3VibWl0IG5ldyB3b3JrIGRhdGEKICAgIHN1Ym1pdE5ld1dvcms6IGZ1bmN0aW9uIHN1Ym1pdE5ld1dvcmsoX3JlZjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdFN0YXRlLCBzdGF0ZSwgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwgcm9vdFN0YXRlID0gX3JlZjUucm9vdFN0YXRlLCBzdGF0ZSA9IF9yZWY1LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfV09SS19UT1BJQ19JRCIsIHJvb3RTdGF0ZS50b3BpY3MudG9waWNJRCk7CiAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9TRUFSQ0hfQVJSQVkiLCBzdGF0ZS5jdXJyZW50V29yay50aXRsZSk7IC8vKiBhZGRzIG5ldyB3b3JrIGluIGZpcmVzdG9yZSBkYXRhYmFzZQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB3b3Jrc1JlZi5hZGQoc3RhdGUuY3VycmVudFdvcmspLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiV29yayBhZGRlZCIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJmZXRjaFdvcmtzIik7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgiY2xlYXJXb3JrRmllbGRzIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKiBzZXRzIGN1cnJlbnQgd29yayBmb3IgZWRpdAogICAgZWRpdFdvcms6IGZ1bmN0aW9uIGVkaXRXb3JrKF9yZWY2LCB3b3JrKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBpbmRleCwgY3VycmVudFdvcms7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwgc3RhdGUgPSBfcmVmNi5zdGF0ZTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX1dPUktfSUQiLCB3b3JrLmlkKTsgLy8qIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSB3b3JrIGZvciBlZGl0CgogICAgICAgICAgICAgICAgaW5kZXggPSBzdGF0ZS53b3Jrcy5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT0gd29yay5pZDsKICAgICAgICAgICAgICAgIH0pOyAvLyogaWRlbnRpZmllcyB0aGUgY3VycmVudCB3b3JrIGZvciBlZGl0IHVzaW5nIHRoZSBpbmRleAoKICAgICAgICAgICAgICAgIGN1cnJlbnRXb3JrID0gc3RhdGUud29ya3NbaW5kZXhdOwogICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfQ1VSUkVOVF9XT1JLIiwgY3VycmVudFdvcmspOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyogc3VibWl0IGVkaXRlZCB3b3JrCiAgICBzdWJtaXRFZGl0V29yazogZnVuY3Rpb24gc3VibWl0RWRpdFdvcmsoX3JlZjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY3LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY3LmRpc3BhdGNoLCBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJVUERBVEVfU0VBUkNIX0FSUkFZIiwgc3RhdGUuY3VycmVudFdvcmsudGl0bGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gd29ya3NSZWYuZG9jKHN0YXRlLndvcmtJZCkuc2V0KHN0YXRlLmN1cnJlbnRXb3JrLCB7CiAgICAgICAgICAgICAgICAgIG1lcmdlOiB0cnVlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Ym1pdCBlZGl0IGZvciAiICsgc3RhdGUuY3VycmVudFdvcmsudGl0bGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJmZXRjaFdvcmtzIik7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgiY2xlYXJXb3JrSWQiKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJjbGVhcldvcmtGaWVsZHMiKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8qIGRlbGV0ZSB3b3JrCiAgICBkZWxldGVXb3JrOiBmdW5jdGlvbiBkZWxldGVXb3JrKF9yZWY4LCB3b3JrKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZSwgY29tbWl0ID0gX3JlZjguY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY4LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgiU0VUX1dPUktfSUQiLCB3b3JrLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtzUmVmLmRvYyhzdGF0ZS53b3JrSWQpLmRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU3VjY2VzZnVsbHkgZGVsZXRlZCIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIC8vKiBmaW5kcyBhbmQgc2V0cyB0aGUgaW5kZXggZm9yIGRlbGV0ZQogICAgICAgICAgICAgICAgZGlzcGF0Y2goImZldGNoV29ya3MiKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX1dPUktfSUQiLCBudWxsKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJjbGVhcldvcmtGaWVsZHMiKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdnVleGZpcmVNdXRhdGlvbnMpLCB7fSwgewogICAgdXBkYXRlRmllbGQ6IHVwZGF0ZUZpZWxkLAogICAgU0VUX1RPUElDX1dPUktTOiBmdW5jdGlvbiBTRVRfVE9QSUNfV09SS1Moc3RhdGUsIHdvcmtzKSB7CiAgICAgIHJldHVybiBzdGF0ZS53b3JrcyA9IHdvcmtzOwogICAgfSwKICAgIFNFVF9XT1JLX1RPUElDX0lEOiBmdW5jdGlvbiBTRVRfV09SS19UT1BJQ19JRChzdGF0ZSwgdG9waWNJZCkgewogICAgICBzdGF0ZS5jdXJyZW50V29yay50b3BpY0lELnB1c2godG9waWNJZCk7CiAgICB9LAogICAgU0VUX1dPUktfSUQ6IGZ1bmN0aW9uIFNFVF9XT1JLX0lEKHN0YXRlLCBpZCkgewogICAgICByZXR1cm4gc3RhdGUud29ya0lkID0gaWQ7CiAgICB9LAogICAgU0VUX0NVUlJFTlRfV09SSzogZnVuY3Rpb24gU0VUX0NVUlJFTlRfV09SSyhzdGF0ZSwgd29yaykgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudFdvcmsgPSB3b3JrOwogICAgfSwKICAgIFNFVF9TRUFSQ0hfQVJSQVk6IGZ1bmN0aW9uIFNFVF9TRUFSQ0hfQVJSQVkoc3RhdGUsIGFycmF5KSB7CiAgICAgIHZhciBfc3RhdGUkY3VycmVudFdvcmskc2U7CgogICAgICAvLyogc3BsaXRzIHRoZSB3b3JkcyBpbnRvIHN0cmluZ3MgYW5kIHN0b3JlcyBpbiBuZXdBcnJheQogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheS5zcGxpdCgiICIpOwoKICAgICAgKF9zdGF0ZSRjdXJyZW50V29yayRzZSA9IHN0YXRlLmN1cnJlbnRXb3JrLnNlYXJjaEFycmF5KS5wdXNoLmFwcGx5KF9zdGF0ZSRjdXJyZW50V29yayRzZSwgX3RvQ29uc3VtYWJsZUFycmF5KG5ld0FycmF5KSk7CiAgICB9LAogICAgVVBEQVRFX1NFQVJDSF9BUlJBWTogZnVuY3Rpb24gVVBEQVRFX1NFQVJDSF9BUlJBWShzdGF0ZSwgYXJyYXkpIHsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXkuc3BsaXQoIiAiKTsKICAgICAgc3RhdGUuY3VycmVudFdvcmsuc2VhcmNoQXJyYXkgPSBuZXdBcnJheTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/store/modules/works.js"],"names":["vuexfireMutations","getField","updateField","db","worksRef","collection","namespaced","state","works","workId","workIndex","currentWork","title","caption","thumbURL","thumbFile","topicID","searchArray","getters","currentTopicWorks","actions","fetchWorks","rootState","commit","workList","where","topics","get","then","querySnapshot","docs","map","doc","workItem","data","push","id","console","log","clearWorkId","clearWorkFields","submitNewWork","dispatch","add","editWork","work","index","findIndex","e","submitEditWork","set","merge","deleteWork","delete","mutations","SET_TOPIC_WORKS","SET_WORK_TOPIC_ID","topicId","SET_WORK_ID","SET_CURRENT_WORK","SET_SEARCH_ARRAY","array","newArray","split","UPDATE_SEARCH_ARRAY"],"mappings":"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","sourcesContent":["import { vuexfireMutations } from \"vuexfire\";\nimport { getField, updateField } from \"vuex-map-fields\";\nimport { db } from \"../../firebase/db\";\n\nconst worksRef = db.collection(\"works\");\n\nexport default {\n  namespaced: true,\n\n  state: {\n    works: [],\n    workId: null,\n    workIndex: null,\n    currentWork: {\n      title: \"\",\n      caption: \"\",\n      thumbURL: \"\",\n      thumbFile: \"\",\n      topicID: [],\n      searchArray: [],\n    },\n  },\n\n  getters: {\n    getField,\n    currentTopicWorks: (state) => state.works,\n  },\n\n  actions: {\n    //* fetches list of works from firestore\n    async fetchWorks({ rootState, commit, state }) {\n      let workList = [];\n\n      await worksRef\n        .where(\"topicID\", \"array-contains-any\", [rootState.topics.topicID])\n        .get()\n        .then(async (querySnapshot) => {\n          querySnapshot.docs.map((doc) => {\n            let workItem = doc.data();\n\n            //* appends unique work id to each work\n            workList.push({\n              ...workItem,\n              id: doc.id,\n            });\n          });\n          await commit(\"SET_TOPIC_WORKS\", workList);\n        });\n      console.log(state.works);\n    },\n\n    //* clears work id\n    clearWorkId({ commit }) {\n      commit(\"SET_WORK_ID\", null);\n    },\n\n    //* clears work fields\n    clearWorkFields({ commit }) {\n      commit(\"SET_CURRENT_WORK\", {\n        title: \"\",\n        caption: \"\",\n        thumbURL: \"\",\n        thumbFile: \"\",\n        topicID: [],\n        searchArray: [],\n      });\n    },\n\n    //* handles submit new work data\n    async submitNewWork({ commit, rootState, state, dispatch }) {\n      commit(\"SET_WORK_TOPIC_ID\", rootState.topics.topicID);\n      commit(\"SET_SEARCH_ARRAY\", state.currentWork.title);\n      //* adds new work in firestore database\n      await worksRef.add(state.currentWork).then(() => {\n        console.log(\"Work added\");\n      });\n\n      dispatch(\"fetchWorks\");\n\n      dispatch(\"clearWorkFields\");\n    },\n\n    //* sets current work for edit\n    async editWork({ commit, state }, work) {\n      commit(\"SET_WORK_ID\", work.id);\n\n      //* returns the index of the work for edit\n      let index = state.works.findIndex((e) => e.id == work.id);\n\n      //* identifies the current work for edit using the index\n      let currentWork = state.works[index];\n      commit(\"SET_CURRENT_WORK\", currentWork);\n    },\n\n    //* submit edited work\n    async submitEditWork({ state, dispatch, commit }) {\n      await commit(\"UPDATE_SEARCH_ARRAY\", state.currentWork.title);\n      await worksRef\n        .doc(state.workId)\n        .set(state.currentWork, { merge: true })\n        .then(() => {\n          console.log(\"Submit edit for \" + state.currentWork.title);\n        });\n      dispatch(\"fetchWorks\");\n      dispatch(\"clearWorkId\");\n      dispatch(\"clearWorkFields\");\n    },\n\n    //* delete work\n    async deleteWork({ state, commit, dispatch }, work) {\n      await commit(\"SET_WORK_ID\", work.id);\n      await worksRef\n        .doc(state.workId)\n        .delete()\n        .then(() => {\n          console.log(\"Succesfully deleted\");\n        });\n\n      //* finds and sets the index for delete\n      dispatch(\"fetchWorks\");\n      commit(\"SET_WORK_ID\", null);\n      dispatch(\"clearWorkFields\");\n    },\n  },\n\n  mutations: {\n    ...vuexfireMutations,\n    updateField,\n    SET_TOPIC_WORKS: (state, works) => (state.works = works),\n    SET_WORK_TOPIC_ID: (state, topicId) => {\n      state.currentWork.topicID.push(topicId);\n    },\n    SET_WORK_ID: (state, id) => (state.workId = id),\n    SET_CURRENT_WORK: (state, work) => (state.currentWork = work),\n    SET_SEARCH_ARRAY: (state, array) => {\n      //* splits the words into strings and stores in newArray\n      let newArray = array.split(\" \");\n      state.currentWork.searchArray.push(...newArray);\n    },\n    UPDATE_SEARCH_ARRAY: (state, array) => {\n      let newArray = array.split(\" \");\n      state.currentWork.searchArray = newArray;\n    },\n  },\n};\n"]}]}