{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/components/ModifyContent/ContentDetails/Terminology/Terminology.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/components/ModifyContent/ContentDetails/Terminology/Terminology.vue","mtime":1641025674173},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/vue-loader/lib/index.js","mtime":1640582283219}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwRmllbGRzIH0gZnJvbSAidnVleC1tYXAtZmllbGRzIjsKaW1wb3J0IFRlcm0gZnJvbSAiLi9UZXJtL1Rlcm0udnVlIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IG5hdmJhciBmcm9tICIuLi9Nb2RpZnlDb250ZW50SGVhZGVyLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1dHRvbjogIisgQWRkIFRlcm0iLAogICAgICBzb3J0Qnk6IFsiVGVybTogQXNjZW5kaW5nIiwgIlRlcm06IERlc2NlbmRpbmciXSwKICAgICAgc2VsZWN0ZWRTb3J0OiAiVGVybTogQXNjZW5kaW5nIiwKICAgICAgdGFiOiAyLAogICAgICBpbWFnZTogbnVsbCwKICAgICAgdXJsOiBudWxsLAogICAgICBpbWFnZURhdGE6IG51bGwsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogeyBUZXJtLCBuYXZiYXIgfSwKICBjb21wdXRlZDogewogICAgY2hlY2tmaWVsZCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGVybSB8fCB0aGlzLmRlZjsKICAgIH0sCiAgICAuLi5tYXBHZXR0ZXJzKCJ0ZXJtaW5vbG9neSIsIFsKICAgICAgImN1cnJlbnRUb3BpY1Rlcm1zIiwKICAgICAgImN1cnJlbnRUZXJtIiwKICAgICAgImN1cnJlbnRUZXJtSWQiLAogICAgICAiYnV0dG9uTGFiZWwiLAogICAgXSksCiAgICAuLi5tYXBGaWVsZHMoInRlcm1pbm9sb2d5IiwgWwogICAgICAiY3VycmVudFRlcm0udGVybSIsCiAgICAgICJjdXJyZW50VGVybS5kZWYiLAogICAgICAiY3VycmVudFRlcm0udGh1bWJVUkwiLAogICAgICAiY3VycmVudFRlcm0udGh1bWJGaWxlIiwKICAgIF0pLAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygidGVybWlub2xvZ3kiLCBbCiAgICAgICJmZXRjaFRlcm1zIiwKICAgICAgImNsZWFyVGVybUlkIiwKICAgICAgInN1Ym1pdE5ld1Rlcm0iLAogICAgICAiY2xlYXJGaWVsZHMiLAogICAgICAic3VibWl0RWRpdFRlcm0iLAogICAgXSksCiAgICBtb3VudFByZXZpZXcoKSB7CiAgICAgIHRoaXMudXJsID0gdGhpcy50aHVtYlVSTDsKICAgIH0sCiAgICBwcmV2aWV3SW1hZ2UoZSkgewogICAgICB0aGlzLnVwbG9hZFZhbHVlID0gMDsKICAgICAgY29uc29sZS5sb2coZS50YXJnZXQuZmlsZXNbMF0pOwogICAgICBsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBsZXQgZmlsZVNpemUgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNDsKICAgICAgaWYgKGZpbGVTaXplID4gMikgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBhbGVydCgiRmlsZSBpcyBvdmVyIDJtYiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgICB0aGlzLmltYWdlRGF0YSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIHRoaXMudGh1bWJGaWxlID0gZmlsZS5uYW1lOwogICAgICB9CiAgICB9LAogICAgb25VcGxvYWQoKSB7CiAgICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSBmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKGAke3RoaXMuaW1hZ2VEYXRhLm5hbWV9YCkKICAgICAgICAucHV0KHRoaXMuaW1hZ2VEYXRhKTsKICAgICAgc3RvcmFnZVJlZi5vbigKICAgICAgICBgc3RhdGVfY2hhbmdlZGAsCiAgICAgICAgKHNuYXBzaG90KSA9PiB7CiAgICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0KICAgICAgICAgICAgKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzKSAqIDEwMDsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSwKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0gMTAwOwogICAgICAgICAgc3RvcmFnZVJlZi5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKCh1cmwpID0+IHsKICAgICAgICAgICAgLy8gdGhpcy5pbWcxID0gdXJsOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmltZzEpOwogICAgICAgICAgICB0aGlzLnRodW1iVVJMID0gdXJsOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRodW1iVVJMKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBhc3luYyBoYW5kbGVTYXZlKCkgewogICAgICBpZiAodGhpcy5pbWFnZURhdGEpIHsKICAgICAgICBsZXQgaW1nUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0aGlzLm9uVXBsb2FkKCkpOwogICAgICAgIGF3YWl0IGltZ1Byb21pc2UudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgYXdhaXQgdGhpcy5zdWJtaXROZXdUZXJtKCk7CiAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRodW1iRmlsZSA9ICJwbGFjZUhvbGRlckltZy5wbmciOwogICAgICAgIHRoaXMudGh1bWJVUkwgPQogICAgICAgICAgImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3YwL2Ivc3R1ZHktYml0ZXMtMS5hcHBzcG90LmNvbS9vL3BsYWNlSG9sZGVySW1nLnBuZz9hbHQ9bWVkaWEmdG9rZW49MzhlY2VkMDctNTRhNC00YjNhLWIyZjktNDlmYThlMDFkYTYzIjsKICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgIGF3YWl0IHRoaXMuc3VibWl0TmV3VGVybSgpOwogICAgICAgIH0sIDIwMDApOwogICAgICB9CiAgICAgIHRoaXMudXJsID0gbnVsbDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm0iKS5yZXNldCgpOwogICAgfSwKICAgIHJlc2V0RmllbGRzKCkgewogICAgICB0aGlzLmNsZWFyRmllbGRzKCk7CiAgICAgIHRoaXMuY2xlYXJUZXJtSWQoKTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5tb3VudFByZXZpZXcoKTsKICAgIHRoaXMuZmV0Y2hUZXJtcygpOwogICAgdGhpcy5jbGVhclRlcm1JZCgpOwogICAgdGhpcy5jbGVhckZpZWxkcygpOwogIH0sCn07Cg=="},{"version":3,"sources":["Terminology.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Terminology.vue","sourceRoot":"src/components/ModifyContent/ContentDetails/Terminology","sourcesContent":["<template>\n  <div id=\"modifyContent\">\n    <v-container fluid>\n      <navbar />\n      <!-- ADDING CONTENT -->\n      <v-row class=\"mx-4\">\n        <!-- SOURCE CONTENT -->\n        <v-col lg=\"6\" md=\"6\" cols=\"12\" class=\"pr-4\">\n          <v-text-field\n            label=\"Term:\"\n            background-color=\"grey lighten-2\"\n            v-model=\"term\"\n            outlined\n            dense\n          ></v-text-field>\n          <v-textarea\n            v-model=\"def\"\n            outlined\n            name=\"input-7-4\"\n            label=\"Definition:\"\n            background-color=\"grey lighten-2\"\n            height=\"7vw\"\n          ></v-textarea>\n        </v-col>\n\n        <v-col>\n          <!-- IMG PREVIEW -->\n          <div class=\"d-flex\">\n            <v-card\n              class=\"d-block\"\n              height=\"80px\"\n              width=\"10vw\"\n              color=\"grey lighten-2\"\n            >\n              <v-img v-if=\"url\" :src=\"url\" height=\"80px\" width=\"10vw\"></v-img>\n            </v-card>\n            <div style=\"width: 17vw\">\n              <form id=\"form\">\n                <input\n                  class=\"pl-4\"\n                  ref=\"input1\"\n                  type=\"file\"\n                  @change=\"previewImage\"\n                />\n              </form>\n            </div>\n          </div>\n          <!-- BUTTONS -->\n          <div class=\"d-flex flex-row justify-end pt-8\">\n            <v-btn\n              class=\"white--text\"\n              width=\"180\"\n              color=\"#3891A6\"\n              :disabled=\"!checkfield\"\n              elevation=\"2\"\n              @click=\"resetFields\"\n              >Reset</v-btn\n            >\n            <v-btn\n              class=\"white--text ml-3\"\n              width=\"180\"\n              color=\"#3891A6\"\n              elevation=\"2\"\n              @click=\"handleSave\"\n              >{{ buttonLabel }}</v-btn\n            >\n          </div>\n        </v-col>\n      </v-row>\n      <!-- DROP DOWN -->\n      <v-row class=\"d-flex justify-end pt-4\">\n        <div class=\"pt-1 pr-2\" style=\"font-size: 18px\">Sort by:</div>\n        <div style=\"width: 15vw\">\n          <v-select\n            v-model=\"selectedSort\"\n            :items=\"sortBy\"\n            :menu-props=\"{ top: false, offsetY: false }\"\n            background-color=\"grey lighten-2\"\n            outlined\n            dense\n            disabled\n          >\n          </v-select>\n        </div>\n      </v-row>\n      <!-- DISPLAY TERMS -->\n      <v-row class=\"d-flex column-flex justify-center\">\n        <div v-for=\"topicTerm in currentTopicTerms\" :key=\"topicTerm.id\">\n          <Term class=\"mx-2 my-2\" v-bind:topicTerm=\"topicTerm\" />\n        </div>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\nimport Term from \"./Term/Term.vue\";\nimport firebase from \"firebase\";\nimport navbar from \"../ModifyContentHeader.vue\";\n\nexport default {\n  data() {\n    return {\n      button: \"+ Add Term\",\n      sortBy: [\"Term: Ascending\", \"Term: Descending\"],\n      selectedSort: \"Term: Ascending\",\n      tab: 2,\n      image: null,\n      url: null,\n      imageData: null,\n    };\n  },\n  components: { Term, navbar },\n  computed: {\n    checkfield() {\n      return this.term || this.def;\n    },\n    ...mapGetters(\"terminology\", [\n      \"currentTopicTerms\",\n      \"currentTerm\",\n      \"currentTermId\",\n      \"buttonLabel\",\n    ]),\n    ...mapFields(\"terminology\", [\n      \"currentTerm.term\",\n      \"currentTerm.def\",\n      \"currentTerm.thumbURL\",\n      \"currentTerm.thumbFile\",\n    ]),\n  },\n  methods: {\n    ...mapActions(\"terminology\", [\n      \"fetchTerms\",\n      \"clearTermId\",\n      \"submitNewTerm\",\n      \"clearFields\",\n      \"submitEditTerm\",\n    ]),\n    mountPreview() {\n      this.url = this.thumbURL;\n    },\n    previewImage(e) {\n      this.uploadValue = 0;\n      console.log(e.target.files[0]);\n      let file = e.target.files[0];\n      let fileSize = file.size / 1024 / 1024;\n      if (fileSize > 2) {\n        e.preventDefault();\n        alert(\"File is over 2mb\");\n      } else {\n        this.url = URL.createObjectURL(file);\n        this.imageData = e.target.files[0];\n        this.thumbFile = file.name;\n      }\n    },\n    onUpload() {\n      const storageRef = firebase\n        .storage()\n        .ref(`${this.imageData.name}`)\n        .put(this.imageData);\n      storageRef.on(\n        `state_changed`,\n        (snapshot) => {\n          this.uploadValue =\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        },\n        (error) => {\n          console.log(error.message);\n        },\n        () => {\n          this.uploadValue = 100;\n          storageRef.snapshot.ref.getDownloadURL().then((url) => {\n            // this.img1 = url;\n            // console.log(this.img1);\n            this.thumbURL = url;\n            console.log(this.thumbURL);\n          });\n        }\n      );\n    },\n    async handleSave() {\n      if (this.imageData) {\n        let imgPromise = Promise.resolve(this.onUpload());\n        await imgPromise.then(async () => {\n          setTimeout(async () => {\n            await this.submitNewTerm();\n          }, 2000);\n        });\n      } else {\n        this.thumbFile = \"placeHolderImg.png\";\n        this.thumbURL =\n          \"https://firebasestorage.googleapis.com/v0/b/study-bites-1.appspot.com/o/placeHolderImg.png?alt=media&token=38eced07-54a4-4b3a-b2f9-49fa8e01da63\";\n        setTimeout(async () => {\n          await this.submitNewTerm();\n        }, 2000);\n      }\n      this.url = null;\n      document.getElementById(\"form\").reset();\n    },\n    resetFields() {\n      this.clearFields();\n      this.clearTermId();\n    },\n  },\n  created() {\n    this.mountPreview();\n    this.fetchTerms();\n    this.clearTermId();\n    this.clearFields();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#imageThumbnail {\n  width: 15vw;\n  height: 10vw;\n  background-color: #5b6368;\n}\n#nav {\n  a {\n    padding: 4px 24px;\n    text-decoration: none;\n    color: #ffffff;\n    font-weight: lighter;\n    background-color: #5b6368;\n\n    &.router-link-exact-active {\n      background-color: #3891a6;\n    }\n  }\n}\n</style>\n"]}]}