{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/components/ModifyTopic/Forms/General.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/components/ModifyTopic/Forms/General.vue","mtime":1648526418468},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/vue-loader/lib/index.js","mtime":1640582283219}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwRmllbGRzIH0gZnJvbSAidnVleC1tYXAtZmllbGRzIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IG5hdmJhciBmcm9tICIuL1RvcGljSW50cm9IZWFkZXIudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IG5hdmJhciB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBpbWFnZTogbnVsbCwKICAgIHRpbWVQZXJpb2RDaG9pY2VzOiBbMSwgMiwgMywgNF0sCiAgICBkaXNhYmxlZDogMSwKICAgIHVybFRvcGljOiBudWxsLAogICAgdXJsSW50cm86IG51bGwsCiAgICBzd2l0Y2gxOiB0cnVlLAogICAgdG9waWNUb2dnbGU6ICJFbmFibGVkIiwKICAgIGludHJvVHlwZTogImludHJvIiwKICAgIHRvcGljVHlwZTogInRvcGljIiwKICAgIGludHJvSW1nRGF0YTogbnVsbCwKICAgIHRvcGljSW1nRGF0YTogbnVsbCwKICAgIGltZ0RhdGFBcnI6IFtdLAogIH0pLAogIHByb3BzOiBbInRvcGljIl0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIHNlbGVjdHNQZXJpb2QoKSB7CiAgICAvLyAgIHJldHVybiB0aGlzLnNlbGVjdGVkUGVyaW9kLmxlbmd0aCA+IDA7CiAgICAvLyB9LAogICAgLy8gaWNvbigpIHsKICAgIC8vICAgaWYgKHRoaXMuc2VsZWN0c1BlcmlvZCkgcmV0dXJuICJtZGktbWludXMtYm94IjsKICAgIC8vICAgcmV0dXJuICJtZGktY2hlY2tib3gtYmxhbmstb3V0bGluZSI7CiAgICAvLyB9LAogICAgLy8gY2hlY2tmaWVsZCgpIHsKICAgIC8vICAgcmV0dXJuIHRoaXMudGl0bGUgfHwgdGhpcy5pbWFnZSB8fCB0aGlzLnNlbGVjdGVkUGVyaW9kOwogICAgLy8gfSwKICAgIC4uLm1hcEdldHRlcnMoInRvcGljcyIsIFsiY3VycmVudFRvcGljIiwgImN1cnJlbnRJZCJdKSwKICAgIC4uLm1hcEZpZWxkcygidG9waWNzIiwgWwogICAgICAiY3VycmVudFRvcGljLnRpdGxlIiwKICAgICAgImN1cnJlbnRUb3BpYy5pbnRyb190aHVtYkZpbGUiLAogICAgICAiY3VycmVudFRvcGljLmludHJvX3RodW1iVVJMIiwKICAgICAgImN1cnJlbnRUb3BpYy50b3BpY190aHVtYkZpbGUiLAogICAgICAiY3VycmVudFRvcGljLnRvcGljX3RodW1iVVJMIiwKICAgICAgImN1cnJlbnRUb3BpYy5pbnRyb01EIiwKICAgICAgLy8gJ2N1cnJlbnRUb3BpYy5kaXNhYmxlZCcsCiAgICAgICJjdXJyZW50VG9waWMudGltZVBlcmlvZCIsCiAgICAgICJjdXJyZW50VG9waWMuc2VhcmNoQXJyYXkiLAogICAgXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCJ0b3BpY3MiLCBbInN1Ym1pdEVkaXRUb3BpYyJdKSwKICAgIG1vdW50UHJldmlldygpIHsKICAgICAgdGhpcy51cmxJbnRybyA9IHRoaXMuaW50cm9fdGh1bWJVUkw7CiAgICAgIHRoaXMudXJsVG9waWMgPSB0aGlzLnRvcGljX3RodW1iVVJMOwogICAgfSwKICAgIHByZXZpZXdJbWFnZShlLCB0eXBlKSB7CiAgICAgIGxldCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgIGxldCBmaWxlU2l6ZSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0OwogICAgICBpZiAoZmlsZVNpemUgPiAyKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGFsZXJ0KCJGaWxlIGlzIG92ZXIgMm1iIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHR5cGUgPT09ICJpbnRybyIpIHsKICAgICAgICAgIHRoaXMudXJsSW50cm8gPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICAgICAgdGhpcy5pbnRyb0ltZ0RhdGEgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgICAgIGxldCBpbnRybyA9IHsgdHlwZTogImludHJvIiwgZGF0YTogdGhpcy5pbnRyb0ltZ0RhdGEgfTsKICAgICAgICAgIHRoaXMuaW1nRGF0YUFyci5wdXNoKGludHJvKTsKICAgICAgICAgIHRoaXMuaW50cm9fdGh1bWJGaWxlID0gZmlsZS5uYW1lOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInRvcGljIikgewogICAgICAgICAgdGhpcy51cmxUb3BpYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgICAgICB0aGlzLnRvcGljSW1nRGF0YSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgICAgbGV0IHRvcGljID0geyB0eXBlOiAidG9waWMiLCBkYXRhOiB0aGlzLnRvcGljSW1nRGF0YSB9OwogICAgICAgICAgdGhpcy5pbWdEYXRhQXJyLnB1c2godG9waWMpOwogICAgICAgICAgdGhpcy50b3BpY190aHVtYkZpbGUgPSBmaWxlLm5hbWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGhpcy5pbWdEYXRhQXJyKTsKICAgIH0sCiAgICBhc3luYyBvblVwbG9hZCgpIHsKICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoCiAgICAgICAgdGhpcy5pbWdEYXRhQXJyLm1hcCgoaW1hZ2UpID0+IHsKICAgICAgICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSBmaXJlYmFzZQogICAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAgIC5yZWYoYCR7aW1hZ2UuZGF0YS5uYW1lfWApCiAgICAgICAgICAgIC5wdXQoaW1hZ2UuZGF0YSk7CiAgICAgICAgICBzdG9yYWdlUmVmLm9uKAogICAgICAgICAgICBgc3RhdGVfY2hhbmdlZGAsCiAgICAgICAgICAgIChzbmFwc2hvdCkgPT4gewogICAgICAgICAgICAgIHRoaXMudXBsb2FkVmFsdWUgPQogICAgICAgICAgICAgICAgKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzKSAqIDEwMDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0gMTAwOwogICAgICAgICAgICAgIHN0b3JhZ2VSZWYuc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbigodXJsKSA9PiB7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmltZzEgPSB1cmw7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmltZzEpOwogICAgICAgICAgICAgICAgLy8gICB0aGlzLmludHJvX3RodW1iVVJMID0gdXJsOwogICAgICAgICAgICAgICAgaWYgKGltYWdlLnR5cGUgPT09ICJpbnRybyIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codXJsLCBpbWFnZS50eXBlKTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb190aHVtYlVSTCA9IHVybDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UudHlwZSA9PT0gInRvcGljIikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1cmwsIGltYWdlLnR5cGUpOwogICAgICAgICAgICAgICAgICB0aGlzLnRvcGljX3RodW1iVVJMID0gdXJsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhkYXRhLm5hbWUsIGRhdGEsIHVybCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmludHJvX3RodW1iVVJMKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudG9waWNfdGh1bWJVUkwpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgIH0pCiAgICAgICkudGhlbigoKSA9PiB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGhhbmRsZVNhdmVFZGl0KCkgewogICAgICBjb25zb2xlLmxvZygic2F2ZSB0b3BpYyIpOwogICAgICAvLyBpZiAodGhpcy5pbnRyb190aHVtYlVSTCA9PT0gIiIpIHsKICAgICAgLy8gICAvLyAgIGFsZXJ0KCJQbGVhc2UgcHJvdmlkZSBpbWFnZXMiKTsKICAgICAgLy8gICAvLyB0aGlzLmludHJvX3RodW1iRmlsZSA9ICJwbGFjZUhvbGRlckltZy5wbmciOwogICAgICAvLyAgIC8vIHRoaXMuaW50cm9fdGh1bWJVUkwgPQogICAgICAvLyAgIC8vICAgImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3YwL2Ivc3R1ZHktYml0ZXMtMS5hcHBzcG90LmNvbS9vL3BsYWNlSG9sZGVySW1nLnBuZz9hbHQ9bWVkaWEmdG9rZW49MzhlY2VkMDctNTRhNC00YjNhLWIyZjktNDlmYThlMDFkYTYzIjsKICAgICAgLy8gICBhd2FpdCB0aGlzLm9uVXBsb2FkKCk7CiAgICAgIC8vICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgIC8vICAgICBhd2FpdCB0aGlzLnN1Ym1pdEVkaXRUb3BpYygpOwogICAgICAvLyAgIH0sIDIwMDApOwogICAgICAvLyB9IGVsc2UgaWYgKHRoaXMudG9waWNfdGh1bWJVUkwgPT09ICIiKSB7CiAgICAgIC8vICAgLy8gdGhpcy50b3BpY190aHVtYkZpbGUgPSAicGxhY2VIb2xkZXJJbWcucG5nIjsKICAgICAgLy8gICAvLyB0aGlzLnRvcGljX3RodW1iVVJMID0KICAgICAgLy8gICAvLyAgICJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MC9iL3N0dWR5LWJpdGVzLTEuYXBwc3BvdC5jb20vby9wbGFjZUhvbGRlckltZy5wbmc/YWx0PW1lZGlhJnRva2VuPTM4ZWNlZDA3LTU0YTQtNGIzYS1iMmY5LTQ5ZmE4ZTAxZGE2MyI7CiAgICAgIC8vICAgYXdhaXQgdGhpcy5vblVwbG9hZCgpOwogICAgICAvLyAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAvLyAgICAgYXdhaXQgdGhpcy5zdWJtaXRFZGl0VG9waWMoKTsKICAgICAgLy8gICB9LCAyMDAwKTsKICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLnRvcGljSW1nRGF0YSB8fCB0aGlzLmludHJvSW1nRGF0YSkgewogICAgICAvLyAgIGF3YWl0IHRoaXMub25VcGxvYWQoKTsKICAgICAgLy8gICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgLy8gICAgIGF3YWl0IHRoaXMuc3VibWl0RWRpdFRvcGljKCk7CiAgICAgIC8vICAgfSwgMjAwMCk7CiAgICAgIC8vIH0KCiAgICAgIGlmICh0aGlzLnRvcGljSW1nRGF0YSB8fCB0aGlzLmludHJvSW1nRGF0YSkgewogICAgICAgIGxldCBpbWdQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRoaXMub25VcGxvYWQoKSk7CiAgICAgICAgYXdhaXQgaW1nUHJvbWlzZS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAgICAgICBhd2FpdCB0aGlzLnN1Ym1pdEVkaXRUb3BpYygpOwogICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgICAgICBhd2FpdCB0aGlzLnN1Ym1pdEVkaXRUb3BpYygpOwogICAgICAgIH0sIDIwMDApOwogICAgICB9CiAgICB9LAogICAgcmVzZXRidG4oZSkgewogICAgICBpZiAodGhpcy5jaGVja2ZpZWxkKSB7CiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IDA7CiAgICAgIH0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIHN3aXRjaFRvZ2dsZShlKSB7CiAgICAgIGlmICh0aGlzLnN3aXRjaDEpIHsKICAgICAgICB0aGlzLnRvcGljVG9nZ2xlID0gIkVuYWJsZWQiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudG9waWNUb2dnbGUgPSAiRGlzYWJsZWQiOwogICAgICB9CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5tb3VudFByZXZpZXcoKTsKICB9LAp9Owo="},{"version":3,"sources":["General.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"General.vue","sourceRoot":"src/components/ModifyTopic/Forms","sourcesContent":["<template>\n  <v-form>\n    <v-card class=\"mx-auto mt-4 pb-6\" width=\"70vw\" height=\"auto\">\n      <navbar />\n\n      <v-container class=\"px-10\">\n        <v-row>\n          <v-col class=\"d-flex align-center  justify-end\">\n            <div class=\"d-flex\" style=\"width:110px\">\n              Topic: {{ topicToggle }}\n            </div>\n            <v-switch v-model=\"switch1\" inset @click=\"switchToggle\"></v-switch>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col class=\"d-flex flex-row\">\n            <v-card\n              class=\"d-block\"\n              width=\"9vw\"\n              height=\"80px\"\n              color=\"grey lighten-2\"\n            >\n              <v-img v-if=\"urlTopic\" :src=\"urlTopic\" height=\"100%\"></v-img>\n            </v-card>\n\n            <div class=\"d-flex flex-column justify-end pl-4\">\n              <label for=\"topic\">Upload TOPIC thumbnail</label>\n              <input\n                name=\"topic\"\n                type=\"file\"\n                @change=\"previewImage($event, topicType)\"\n              />\n            </div>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-text-field v-model=\"title\" label=\"Title\" outlined dense required>\n            </v-text-field>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-text-field\n              v-model=\"timespan\"\n              label=\"Time Span\"\n              placeholder=\"(Beginning) Month ##, Year -- (End) Month ##, Year\"\n              outlined\n              dense\n              required\n            >\n            </v-text-field>\n          </v-col>\n        </v-row>\n        <div class=\" d-flex justify-start font-weight-bold mt-6 mb-2\">\n          Intro:\n        </div>\n        <v-row class=\"ma-0\">\n          <v-col cols=\"8\">\n            <v-textarea\n              v-model=\"introMD\"\n              outlined\n              name=\"input-7-4\"\n              label=\"Main event content (has markdown):\"\n            ></v-textarea>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-card\n              class=\"d-block\"\n              width=\"9vw\"\n              height=\"80px\"\n              color=\"grey lighten-2\"\n            >\n              <v-img :src=\"urlIntro\" height=\"100%\"></v-img>\n            </v-card>\n\n            <div class=\"d-flex flex-column justify-end pt-4\">\n              <label for=\"map\">Upload INTRO thumbnail</label>\n              <input\n                name=\"intro\"\n                type=\"file\"\n                @change=\"previewImage($event, introType)\"\n              />\n            </div>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col lg=\"6\" md=\"6\" sm=\"12\" xs=\"12\" class=\"d-flex justify-start\">\n            <v-select\n              v-model=\"timePeriod\"\n              :items=\"timePeriodChoices\"\n              :menu-props=\"{ top: true, offsetY: true }\"\n              label=\"Time Period\"\n              outlined\n              dense\n            >\n            </v-select>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col class=\"pt-10\">\n            <v-btn\n              class=\"white--text\"\n              width=\"140\"\n              color=\"#3891A6\"\n              elevation=\"2\"\n              block\n              @click=\"handleSaveEdit\"\n              >Save Topic\n              <v-icon small class=\"pl-2\">mdi-plus-circle-outline</v-icon>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-card>\n  </v-form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\nimport firebase from \"firebase\";\nimport navbar from \"./TopicIntroHeader.vue\";\n\nexport default {\n  components: { navbar },\n  data: () => ({\n    image: null,\n    timePeriodChoices: [1, 2, 3, 4],\n    disabled: 1,\n    urlTopic: null,\n    urlIntro: null,\n    switch1: true,\n    topicToggle: \"Enabled\",\n    introType: \"intro\",\n    topicType: \"topic\",\n    introImgData: null,\n    topicImgData: null,\n    imgDataArr: [],\n  }),\n  props: [\"topic\"],\n  computed: {\n    // selectsPeriod() {\n    //   return this.selectedPeriod.length > 0;\n    // },\n    // icon() {\n    //   if (this.selectsPeriod) return \"mdi-minus-box\";\n    //   return \"mdi-checkbox-blank-outline\";\n    // },\n    // checkfield() {\n    //   return this.title || this.image || this.selectedPeriod;\n    // },\n    ...mapGetters(\"topics\", [\"currentTopic\", \"currentId\"]),\n    ...mapFields(\"topics\", [\n      \"currentTopic.title\",\n      \"currentTopic.intro_thumbFile\",\n      \"currentTopic.intro_thumbURL\",\n      \"currentTopic.topic_thumbFile\",\n      \"currentTopic.topic_thumbURL\",\n      \"currentTopic.introMD\",\n      // 'currentTopic.disabled',\n      \"currentTopic.timePeriod\",\n      \"currentTopic.searchArray\",\n    ]),\n  },\n  methods: {\n    ...mapActions(\"topics\", [\"submitEditTopic\"]),\n    mountPreview() {\n      this.urlIntro = this.intro_thumbURL;\n      this.urlTopic = this.topic_thumbURL;\n    },\n    previewImage(e, type) {\n      let file = e.target.files[0];\n      let fileSize = file.size / 1024 / 1024;\n      if (fileSize > 2) {\n        e.preventDefault();\n        alert(\"File is over 2mb\");\n      } else {\n        if (type === \"intro\") {\n          this.urlIntro = URL.createObjectURL(file);\n          this.introImgData = e.target.files[0];\n          let intro = { type: \"intro\", data: this.introImgData };\n          this.imgDataArr.push(intro);\n          this.intro_thumbFile = file.name;\n        } else if (type === \"topic\") {\n          this.urlTopic = URL.createObjectURL(file);\n          this.topicImgData = e.target.files[0];\n          let topic = { type: \"topic\", data: this.topicImgData };\n          this.imgDataArr.push(topic);\n          this.topic_thumbFile = file.name;\n        } else {\n          console.log(\"Error\");\n        }\n      }\n\n      console.log(this.imgDataArr);\n    },\n    async onUpload() {\n      await Promise.all(\n        this.imgDataArr.map((image) => {\n          const storageRef = firebase\n            .storage()\n            .ref(`${image.data.name}`)\n            .put(image.data);\n          storageRef.on(\n            `state_changed`,\n            (snapshot) => {\n              this.uploadValue =\n                (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n            },\n            (error) => {\n              console.log(error.message);\n            },\n            () => {\n              this.uploadValue = 100;\n              storageRef.snapshot.ref.getDownloadURL().then((url) => {\n                // this.img1 = url;\n                // console.log(this.img1);\n                //   this.intro_thumbURL = url;\n                if (image.type === \"intro\") {\n                  console.log(url, image.type);\n                  this.intro_thumbURL = url;\n                } else if (image.type === \"topic\") {\n                  console.log(url, image.type);\n                  this.topic_thumbURL = url;\n                }\n                //   console.log(data.name, data, url);\n                console.log(this.intro_thumbURL);\n                console.log(this.topic_thumbURL);\n              });\n            }\n          );\n        })\n      ).then(() => {\n        return true;\n      });\n    },\n    async handleSaveEdit() {\n      console.log(\"save topic\");\n      // if (this.intro_thumbURL === \"\") {\n      //   //   alert(\"Please provide images\");\n      //   // this.intro_thumbFile = \"placeHolderImg.png\";\n      //   // this.intro_thumbURL =\n      //   //   \"https://firebasestorage.googleapis.com/v0/b/study-bites-1.appspot.com/o/placeHolderImg.png?alt=media&token=38eced07-54a4-4b3a-b2f9-49fa8e01da63\";\n      //   await this.onUpload();\n      //   setTimeout(async () => {\n      //     await this.submitEditTopic();\n      //   }, 2000);\n      // } else if (this.topic_thumbURL === \"\") {\n      //   // this.topic_thumbFile = \"placeHolderImg.png\";\n      //   // this.topic_thumbURL =\n      //   //   \"https://firebasestorage.googleapis.com/v0/b/study-bites-1.appspot.com/o/placeHolderImg.png?alt=media&token=38eced07-54a4-4b3a-b2f9-49fa8e01da63\";\n      //   await this.onUpload();\n      //   setTimeout(async () => {\n      //     await this.submitEditTopic();\n      //   }, 2000);\n      // } else if (this.topicImgData || this.introImgData) {\n      //   await this.onUpload();\n      //   setTimeout(async () => {\n      //     await this.submitEditTopic();\n      //   }, 2000);\n      // }\n\n      if (this.topicImgData || this.introImgData) {\n        let imgPromise = Promise.resolve(this.onUpload());\n        await imgPromise.then(async () => {\n          setTimeout(async () => {\n            await this.submitEditTopic();\n          }, 2000);\n        });\n      } else {\n        setTimeout(async () => {\n          await this.submitEditTopic();\n        }, 2000);\n      }\n    },\n    resetbtn(e) {\n      if (this.checkfield) {\n        this.disabled = 0;\n      }\n      e.preventDefault();\n    },\n    switchToggle(e) {\n      if (this.switch1) {\n        this.topicToggle = \"Enabled\";\n      } else {\n        this.topicToggle = \"Disabled\";\n      }\n      e.preventDefault();\n    },\n  },\n  created() {\n    this.mountPreview();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#imageThumbnail {\n  width: 15vw;\n  height: 10vw;\n  background-color: #5b6368;\n}\n#nav {\n  a {\n    padding: 4px 24px;\n    text-decoration: none;\n    color: #ffffff;\n    font-weight: lighter;\n    background-color: #5b6368;\n\n    &.router-link-exact-active {\n      background-color: #3891a6;\n    }\n  }\n}\n</style>\n"]}]}