{"remainingRequest":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/components/ModifyTopic/Forms/General.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/src/components/ModifyTopic/Forms/General.vue","mtime":1648526508373},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/babel-loader/lib/index.js","mtime":1640582283745},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/cache-loader/dist/cjs.js","mtime":1640582283784},{"path":"/Users/engram/Documents/Web_apps/ap-study-bites-admin/node_modules/vue-loader/lib/index.js","mtime":1640582283219}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwRmllbGRzIH0gZnJvbSAidnVleC1tYXAtZmllbGRzIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IG5hdmJhciBmcm9tICIuL1RvcGljSW50cm9IZWFkZXIudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IG5hdmJhciB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBpbWFnZTogbnVsbCwKICAgIHRpbWVQZXJpb2RDaG9pY2VzOiBbMSwgMiwgMywgNF0sCiAgICBkaXNhYmxlZDogMSwKICAgIHVybFRvcGljOiBudWxsLAogICAgdXJsSW50cm86IG51bGwsCiAgICBzd2l0Y2gxOiB0cnVlLAogICAgdG9waWNUb2dnbGU6ICJFbmFibGVkIiwKICAgIGludHJvVHlwZTogImludHJvIiwKICAgIHRvcGljVHlwZTogInRvcGljIiwKICAgIGludHJvSW1nRGF0YTogbnVsbCwKICAgIHRvcGljSW1nRGF0YTogbnVsbCwKICAgIGltZ0RhdGFBcnI6IFtdLAogIH0pLAogIHByb3BzOiBbInRvcGljIl0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIHNlbGVjdHNQZXJpb2QoKSB7CiAgICAvLyAgIHJldHVybiB0aGlzLnNlbGVjdGVkUGVyaW9kLmxlbmd0aCA+IDA7CiAgICAvLyB9LAogICAgLy8gaWNvbigpIHsKICAgIC8vICAgaWYgKHRoaXMuc2VsZWN0c1BlcmlvZCkgcmV0dXJuICJtZGktbWludXMtYm94IjsKICAgIC8vICAgcmV0dXJuICJtZGktY2hlY2tib3gtYmxhbmstb3V0bGluZSI7CiAgICAvLyB9LAogICAgLy8gY2hlY2tmaWVsZCgpIHsKICAgIC8vICAgcmV0dXJuIHRoaXMudGl0bGUgfHwgdGhpcy5pbWFnZSB8fCB0aGlzLnNlbGVjdGVkUGVyaW9kOwogICAgLy8gfSwKICAgIC4uLm1hcEdldHRlcnMoInRvcGljcyIsIFsiY3VycmVudFRvcGljIiwgImN1cnJlbnRJZCJdKSwKICAgIC4uLm1hcEZpZWxkcygidG9waWNzIiwgWwogICAgICAiY3VycmVudFRvcGljLnRpdGxlIiwKICAgICAgImN1cnJlbnRUb3BpYy50aW1lc3BhbiIsCiAgICAgICJjdXJyZW50VG9waWMuaW50cm9fdGh1bWJGaWxlIiwKICAgICAgImN1cnJlbnRUb3BpYy5pbnRyb190aHVtYlVSTCIsCiAgICAgICJjdXJyZW50VG9waWMudG9waWNfdGh1bWJGaWxlIiwKICAgICAgImN1cnJlbnRUb3BpYy50b3BpY190aHVtYlVSTCIsCiAgICAgICJjdXJyZW50VG9waWMuaW50cm9NRCIsCiAgICAgIC8vICdjdXJyZW50VG9waWMuZGlzYWJsZWQnLAogICAgICAiY3VycmVudFRvcGljLnRpbWVQZXJpb2QiLAogICAgICAiY3VycmVudFRvcGljLnNlYXJjaEFycmF5IiwKICAgIF0pLAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygidG9waWNzIiwgWyJzdWJtaXRFZGl0VG9waWMiXSksCiAgICBtb3VudFByZXZpZXcoKSB7CiAgICAgIHRoaXMudXJsSW50cm8gPSB0aGlzLmludHJvX3RodW1iVVJMOwogICAgICB0aGlzLnVybFRvcGljID0gdGhpcy50b3BpY190aHVtYlVSTDsKICAgIH0sCiAgICBwcmV2aWV3SW1hZ2UoZSwgdHlwZSkgewogICAgICBsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBsZXQgZmlsZVNpemUgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNDsKICAgICAgaWYgKGZpbGVTaXplID4gMikgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBhbGVydCgiRmlsZSBpcyBvdmVyIDJtYiIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlID09PSAiaW50cm8iKSB7CiAgICAgICAgICB0aGlzLnVybEludHJvID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgICAgIHRoaXMuaW50cm9JbWdEYXRhID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICBsZXQgaW50cm8gPSB7IHR5cGU6ICJpbnRybyIsIGRhdGE6IHRoaXMuaW50cm9JbWdEYXRhIH07CiAgICAgICAgICB0aGlzLmltZ0RhdGFBcnIucHVzaChpbnRybyk7CiAgICAgICAgICB0aGlzLmludHJvX3RodW1iRmlsZSA9IGZpbGUubmFtZTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJ0b3BpYyIpIHsKICAgICAgICAgIHRoaXMudXJsVG9waWMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICAgICAgdGhpcy50b3BpY0ltZ0RhdGEgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgICAgIGxldCB0b3BpYyA9IHsgdHlwZTogInRvcGljIiwgZGF0YTogdGhpcy50b3BpY0ltZ0RhdGEgfTsKICAgICAgICAgIHRoaXMuaW1nRGF0YUFyci5wdXNoKHRvcGljKTsKICAgICAgICAgIHRoaXMudG9waWNfdGh1bWJGaWxlID0gZmlsZS5uYW1lOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1nRGF0YUFycik7CiAgICB9LAogICAgYXN5bmMgb25VcGxvYWQoKSB7CiAgICAgIGF3YWl0IFByb21pc2UuYWxsKAogICAgICAgIHRoaXMuaW1nRGF0YUFyci5tYXAoKGltYWdlKSA9PiB7CiAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gZmlyZWJhc2UKICAgICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgICAucmVmKGAke2ltYWdlLmRhdGEubmFtZX1gKQogICAgICAgICAgICAucHV0KGltYWdlLmRhdGEpOwogICAgICAgICAgc3RvcmFnZVJlZi5vbigKICAgICAgICAgICAgYHN0YXRlX2NoYW5nZWRgLAogICAgICAgICAgICAoc25hcHNob3QpID0+IHsKICAgICAgICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0KICAgICAgICAgICAgICAgIChzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcykgKiAxMDA7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy51cGxvYWRWYWx1ZSA9IDEwMDsKICAgICAgICAgICAgICBzdG9yYWdlUmVmLnNuYXBzaG90LnJlZi5nZXREb3dubG9hZFVSTCgpLnRoZW4oKHVybCkgPT4gewogICAgICAgICAgICAgICAgLy8gdGhpcy5pbWcxID0gdXJsOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbWcxKTsKICAgICAgICAgICAgICAgIC8vICAgdGhpcy5pbnRyb190aHVtYlVSTCA9IHVybDsKICAgICAgICAgICAgICAgIGlmIChpbWFnZS50eXBlID09PSAiaW50cm8iKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVybCwgaW1hZ2UudHlwZSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9fdGh1bWJVUkwgPSB1cmw7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlLnR5cGUgPT09ICJ0b3BpYyIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codXJsLCBpbWFnZS50eXBlKTsKICAgICAgICAgICAgICAgICAgdGhpcy50b3BpY190aHVtYlVSTCA9IHVybDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coZGF0YS5uYW1lLCBkYXRhLCB1cmwpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pbnRyb190aHVtYlVSTCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvcGljX3RodW1iVVJMKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICApLnRoZW4oKCkgPT4gewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBoYW5kbGVTYXZlRWRpdCgpIHsKICAgICAgY29uc29sZS5sb2coInNhdmUgdG9waWMiKTsKICAgICAgLy8gaWYgKHRoaXMuaW50cm9fdGh1bWJVUkwgPT09ICIiKSB7CiAgICAgIC8vICAgLy8gICBhbGVydCgiUGxlYXNlIHByb3ZpZGUgaW1hZ2VzIik7CiAgICAgIC8vICAgLy8gdGhpcy5pbnRyb190aHVtYkZpbGUgPSAicGxhY2VIb2xkZXJJbWcucG5nIjsKICAgICAgLy8gICAvLyB0aGlzLmludHJvX3RodW1iVVJMID0KICAgICAgLy8gICAvLyAgICJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MC9iL3N0dWR5LWJpdGVzLTEuYXBwc3BvdC5jb20vby9wbGFjZUhvbGRlckltZy5wbmc/YWx0PW1lZGlhJnRva2VuPTM4ZWNlZDA3LTU0YTQtNGIzYS1iMmY5LTQ5ZmE4ZTAxZGE2MyI7CiAgICAgIC8vICAgYXdhaXQgdGhpcy5vblVwbG9hZCgpOwogICAgICAvLyAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAvLyAgICAgYXdhaXQgdGhpcy5zdWJtaXRFZGl0VG9waWMoKTsKICAgICAgLy8gICB9LCAyMDAwKTsKICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLnRvcGljX3RodW1iVVJMID09PSAiIikgewogICAgICAvLyAgIC8vIHRoaXMudG9waWNfdGh1bWJGaWxlID0gInBsYWNlSG9sZGVySW1nLnBuZyI7CiAgICAgIC8vICAgLy8gdGhpcy50b3BpY190aHVtYlVSTCA9CiAgICAgIC8vICAgLy8gICAiaHR0cHM6Ly9maXJlYmFzZXN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vdjAvYi9zdHVkeS1iaXRlcy0xLmFwcHNwb3QuY29tL28vcGxhY2VIb2xkZXJJbWcucG5nP2FsdD1tZWRpYSZ0b2tlbj0zOGVjZWQwNy01NGE0LTRiM2EtYjJmOS00OWZhOGUwMWRhNjMiOwogICAgICAvLyAgIGF3YWl0IHRoaXMub25VcGxvYWQoKTsKICAgICAgLy8gICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgLy8gICAgIGF3YWl0IHRoaXMuc3VibWl0RWRpdFRvcGljKCk7CiAgICAgIC8vICAgfSwgMjAwMCk7CiAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy50b3BpY0ltZ0RhdGEgfHwgdGhpcy5pbnRyb0ltZ0RhdGEpIHsKICAgICAgLy8gICBhd2FpdCB0aGlzLm9uVXBsb2FkKCk7CiAgICAgIC8vICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgIC8vICAgICBhd2FpdCB0aGlzLnN1Ym1pdEVkaXRUb3BpYygpOwogICAgICAvLyAgIH0sIDIwMDApOwogICAgICAvLyB9CgogICAgICBpZiAodGhpcy50b3BpY0ltZ0RhdGEgfHwgdGhpcy5pbnRyb0ltZ0RhdGEpIHsKICAgICAgICBsZXQgaW1nUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0aGlzLm9uVXBsb2FkKCkpOwogICAgICAgIGF3YWl0IGltZ1Byb21pc2UudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgYXdhaXQgdGhpcy5zdWJtaXRFZGl0VG9waWMoKTsKICAgICAgICAgIH0sIDIwMDApOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAgICAgYXdhaXQgdGhpcy5zdWJtaXRFZGl0VG9waWMoKTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0YnRuKGUpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tmaWVsZCkgewogICAgICAgIHRoaXMuZGlzYWJsZWQgPSAwOwogICAgICB9CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0sCiAgICBzd2l0Y2hUb2dnbGUoZSkgewogICAgICBpZiAodGhpcy5zd2l0Y2gxKSB7CiAgICAgICAgdGhpcy50b3BpY1RvZ2dsZSA9ICJFbmFibGVkIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRvcGljVG9nZ2xlID0gIkRpc2FibGVkIjsKICAgICAgfQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubW91bnRQcmV2aWV3KCk7CiAgfSwKfTsK"},{"version":3,"sources":["General.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"General.vue","sourceRoot":"src/components/ModifyTopic/Forms","sourcesContent":["<template>\n  <v-form>\n    <v-card class=\"mx-auto mt-4 pb-6\" width=\"70vw\" height=\"auto\">\n      <navbar />\n\n      <v-container class=\"px-10\">\n        <v-row>\n          <v-col class=\"d-flex align-center  justify-end\">\n            <div class=\"d-flex\" style=\"width:110px\">\n              Topic: {{ topicToggle }}\n            </div>\n            <v-switch v-model=\"switch1\" inset @click=\"switchToggle\"></v-switch>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col class=\"d-flex flex-row\">\n            <v-card\n              class=\"d-block\"\n              width=\"9vw\"\n              height=\"80px\"\n              color=\"grey lighten-2\"\n            >\n              <v-img v-if=\"urlTopic\" :src=\"urlTopic\" height=\"100%\"></v-img>\n            </v-card>\n\n            <div class=\"d-flex flex-column justify-end pl-4\">\n              <label for=\"topic\">Upload TOPIC thumbnail</label>\n              <input\n                name=\"topic\"\n                type=\"file\"\n                @change=\"previewImage($event, topicType)\"\n              />\n            </div>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-text-field v-model=\"title\" label=\"Title\" outlined dense required>\n            </v-text-field>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-text-field\n              v-model=\"timespan\"\n              label=\"Time Span\"\n              placeholder=\"(Beginning) Month ##, Year -- (End) Month ##, Year\"\n              outlined\n              dense\n              required\n            >\n            </v-text-field>\n          </v-col>\n        </v-row>\n        <div class=\" d-flex justify-start font-weight-bold mt-6 mb-2\">\n          Intro:\n        </div>\n        <v-row class=\"ma-0\">\n          <v-col cols=\"8\">\n            <v-textarea\n              v-model=\"introMD\"\n              outlined\n              name=\"input-7-4\"\n              label=\"Main event content (has markdown):\"\n            ></v-textarea>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-card\n              class=\"d-block\"\n              width=\"9vw\"\n              height=\"80px\"\n              color=\"grey lighten-2\"\n            >\n              <v-img :src=\"urlIntro\" height=\"100%\"></v-img>\n            </v-card>\n\n            <div class=\"d-flex flex-column justify-end pt-4\">\n              <label for=\"map\">Upload INTRO thumbnail</label>\n              <input\n                name=\"intro\"\n                type=\"file\"\n                @change=\"previewImage($event, introType)\"\n              />\n            </div>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col lg=\"6\" md=\"6\" sm=\"12\" xs=\"12\" class=\"d-flex justify-start\">\n            <v-select\n              v-model=\"timePeriod\"\n              :items=\"timePeriodChoices\"\n              :menu-props=\"{ top: true, offsetY: true }\"\n              label=\"Time Period\"\n              outlined\n              dense\n            >\n            </v-select>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col class=\"pt-10\">\n            <v-btn\n              class=\"white--text\"\n              width=\"140\"\n              color=\"#3891A6\"\n              elevation=\"2\"\n              block\n              @click=\"handleSaveEdit\"\n              >Save Topic\n              <v-icon small class=\"pl-2\">mdi-plus-circle-outline</v-icon>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-card>\n  </v-form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\nimport firebase from \"firebase\";\nimport navbar from \"./TopicIntroHeader.vue\";\n\nexport default {\n  components: { navbar },\n  data: () => ({\n    image: null,\n    timePeriodChoices: [1, 2, 3, 4],\n    disabled: 1,\n    urlTopic: null,\n    urlIntro: null,\n    switch1: true,\n    topicToggle: \"Enabled\",\n    introType: \"intro\",\n    topicType: \"topic\",\n    introImgData: null,\n    topicImgData: null,\n    imgDataArr: [],\n  }),\n  props: [\"topic\"],\n  computed: {\n    // selectsPeriod() {\n    //   return this.selectedPeriod.length > 0;\n    // },\n    // icon() {\n    //   if (this.selectsPeriod) return \"mdi-minus-box\";\n    //   return \"mdi-checkbox-blank-outline\";\n    // },\n    // checkfield() {\n    //   return this.title || this.image || this.selectedPeriod;\n    // },\n    ...mapGetters(\"topics\", [\"currentTopic\", \"currentId\"]),\n    ...mapFields(\"topics\", [\n      \"currentTopic.title\",\n      \"currentTopic.timespan\",\n      \"currentTopic.intro_thumbFile\",\n      \"currentTopic.intro_thumbURL\",\n      \"currentTopic.topic_thumbFile\",\n      \"currentTopic.topic_thumbURL\",\n      \"currentTopic.introMD\",\n      // 'currentTopic.disabled',\n      \"currentTopic.timePeriod\",\n      \"currentTopic.searchArray\",\n    ]),\n  },\n  methods: {\n    ...mapActions(\"topics\", [\"submitEditTopic\"]),\n    mountPreview() {\n      this.urlIntro = this.intro_thumbURL;\n      this.urlTopic = this.topic_thumbURL;\n    },\n    previewImage(e, type) {\n      let file = e.target.files[0];\n      let fileSize = file.size / 1024 / 1024;\n      if (fileSize > 2) {\n        e.preventDefault();\n        alert(\"File is over 2mb\");\n      } else {\n        if (type === \"intro\") {\n          this.urlIntro = URL.createObjectURL(file);\n          this.introImgData = e.target.files[0];\n          let intro = { type: \"intro\", data: this.introImgData };\n          this.imgDataArr.push(intro);\n          this.intro_thumbFile = file.name;\n        } else if (type === \"topic\") {\n          this.urlTopic = URL.createObjectURL(file);\n          this.topicImgData = e.target.files[0];\n          let topic = { type: \"topic\", data: this.topicImgData };\n          this.imgDataArr.push(topic);\n          this.topic_thumbFile = file.name;\n        } else {\n          console.log(\"Error\");\n        }\n      }\n\n      console.log(this.imgDataArr);\n    },\n    async onUpload() {\n      await Promise.all(\n        this.imgDataArr.map((image) => {\n          const storageRef = firebase\n            .storage()\n            .ref(`${image.data.name}`)\n            .put(image.data);\n          storageRef.on(\n            `state_changed`,\n            (snapshot) => {\n              this.uploadValue =\n                (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n            },\n            (error) => {\n              console.log(error.message);\n            },\n            () => {\n              this.uploadValue = 100;\n              storageRef.snapshot.ref.getDownloadURL().then((url) => {\n                // this.img1 = url;\n                // console.log(this.img1);\n                //   this.intro_thumbURL = url;\n                if (image.type === \"intro\") {\n                  console.log(url, image.type);\n                  this.intro_thumbURL = url;\n                } else if (image.type === \"topic\") {\n                  console.log(url, image.type);\n                  this.topic_thumbURL = url;\n                }\n                //   console.log(data.name, data, url);\n                console.log(this.intro_thumbURL);\n                console.log(this.topic_thumbURL);\n              });\n            }\n          );\n        })\n      ).then(() => {\n        return true;\n      });\n    },\n    async handleSaveEdit() {\n      console.log(\"save topic\");\n      // if (this.intro_thumbURL === \"\") {\n      //   //   alert(\"Please provide images\");\n      //   // this.intro_thumbFile = \"placeHolderImg.png\";\n      //   // this.intro_thumbURL =\n      //   //   \"https://firebasestorage.googleapis.com/v0/b/study-bites-1.appspot.com/o/placeHolderImg.png?alt=media&token=38eced07-54a4-4b3a-b2f9-49fa8e01da63\";\n      //   await this.onUpload();\n      //   setTimeout(async () => {\n      //     await this.submitEditTopic();\n      //   }, 2000);\n      // } else if (this.topic_thumbURL === \"\") {\n      //   // this.topic_thumbFile = \"placeHolderImg.png\";\n      //   // this.topic_thumbURL =\n      //   //   \"https://firebasestorage.googleapis.com/v0/b/study-bites-1.appspot.com/o/placeHolderImg.png?alt=media&token=38eced07-54a4-4b3a-b2f9-49fa8e01da63\";\n      //   await this.onUpload();\n      //   setTimeout(async () => {\n      //     await this.submitEditTopic();\n      //   }, 2000);\n      // } else if (this.topicImgData || this.introImgData) {\n      //   await this.onUpload();\n      //   setTimeout(async () => {\n      //     await this.submitEditTopic();\n      //   }, 2000);\n      // }\n\n      if (this.topicImgData || this.introImgData) {\n        let imgPromise = Promise.resolve(this.onUpload());\n        await imgPromise.then(async () => {\n          setTimeout(async () => {\n            await this.submitEditTopic();\n          }, 2000);\n        });\n      } else {\n        setTimeout(async () => {\n          await this.submitEditTopic();\n        }, 2000);\n      }\n    },\n    resetbtn(e) {\n      if (this.checkfield) {\n        this.disabled = 0;\n      }\n      e.preventDefault();\n    },\n    switchToggle(e) {\n      if (this.switch1) {\n        this.topicToggle = \"Enabled\";\n      } else {\n        this.topicToggle = \"Disabled\";\n      }\n      e.preventDefault();\n    },\n  },\n  created() {\n    this.mountPreview();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#imageThumbnail {\n  width: 15vw;\n  height: 10vw;\n  background-color: #5b6368;\n}\n#nav {\n  a {\n    padding: 4px 24px;\n    text-decoration: none;\n    color: #ffffff;\n    font-weight: lighter;\n    background-color: #5b6368;\n\n    &.router-link-exact-active {\n      background-color: #3891a6;\n    }\n  }\n}\n</style>\n"]}]}